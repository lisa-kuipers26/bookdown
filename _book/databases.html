<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>8 Databases | Portofolio workflows</title>
  <meta name="description" content="Portflio" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="8 Databases | Portofolio workflows" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Portflio" />
  <meta name="github-repo" content="portflio" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 Databases | Portofolio workflows" />
  
  <meta name="twitter:description" content="Portflio" />
  

<meta name="author" content="Lisa Kuipers" />


<meta name="date" content="2022-05-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="het-citeren-van-andere-werken.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introductie</a></li>
<li class="chapter" data-level="2" data-path="verwerken-van-data.html"><a href="verwerken-van-data.html"><i class="fa fa-check"></i><b>2</b> Verwerken van data</a></li>
<li class="chapter" data-level="3" data-path="open-peer-review.html"><a href="open-peer-review.html"><i class="fa fa-check"></i><b>3</b> Open Peer Review</a>
<ul>
<li class="chapter" data-level="3.1" data-path="open-peer-review.html"><a href="open-peer-review.html#onderzoek-op-reproduceerbaarheid-beoordelen"><i class="fa fa-check"></i><b>3.1</b> Onderzoek op reproduceerbaarheid beoordelen</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="open-peer-review.html"><a href="open-peer-review.html#omschrijving-onderzoek"><i class="fa fa-check"></i><b>3.1.1</b> Omschrijving onderzoek</a></li>
<li class="chapter" data-level="3.1.2" data-path="open-peer-review.html"><a href="open-peer-review.html#beoordeling-artikel"><i class="fa fa-check"></i><b>3.1.2</b> Beoordeling artikel</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="open-peer-review.html"><a href="open-peer-review.html#code-zelf-reproduceren"><i class="fa fa-check"></i><b>3.2</b> Code zelf reproduceren</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="open-peer-review.html"><a href="open-peer-review.html#beoordeling-script"><i class="fa fa-check"></i><b>3.2.1</b> Beoordeling script</a></li>
<li class="chapter" data-level="3.2.2" data-path="open-peer-review.html"><a href="open-peer-review.html#probleem-in-script"><i class="fa fa-check"></i><b>3.2.2</b> Probleem in script</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-organiseren.html"><a href="data-organiseren.html"><i class="fa fa-check"></i><b>4</b> Data organiseren</a></li>
<li class="chapter" data-level="5" data-path="cv.html"><a href="cv.html"><i class="fa fa-check"></i><b>5</b> cv</a></li>
<li class="chapter" data-level="6" data-path="biologische-databases.html"><a href="biologische-databases.html"><i class="fa fa-check"></i><b>6</b> Biologische databases</a></li>
<li class="chapter" data-level="7" data-path="het-citeren-van-andere-werken.html"><a href="het-citeren-van-andere-werken.html"><i class="fa fa-check"></i><b>7</b> Het citeren van andere werken</a></li>
<li class="chapter" data-level="8" data-path="databases.html"><a href="databases.html"><i class="fa fa-check"></i><b>8</b> Databases</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Portofolio workflows</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="databases" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">8</span> Databases<a href="databases.html#databases" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Google Dengue Trends (<a href="http://www.google.org/denguetrends" class="uri">http://www.google.org/denguetrends</a>)
“Data Source: Google Flu Trends (<a href="http://www.google.org/flutrends" class="uri">http://www.google.org/flutrends</a>)”</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="databases.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dslabs)</span>
<span id="cb5-2"><a href="databases.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-3"><a href="databases.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#laden van gapminder</span></span>
<span id="cb5-4"><a href="databases.html#cb5-4" aria-hidden="true" tabindex="-1"></a>gapminder_df <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb5-5"><a href="databases.html#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="databases.html#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#tidy maken van dengue data</span></span>
<span id="cb5-7"><a href="databases.html#cb5-7" aria-hidden="true" tabindex="-1"></a>dengue_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/dengue_data.csv&quot;</span>, <span class="at">skip=</span><span class="dv">11</span>) <span class="sc">%&gt;%</span> as.data.frame</span>
<span id="cb5-8"><a href="databases.html#cb5-8" aria-hidden="true" tabindex="-1"></a>col_dengue <span class="ot">&lt;-</span> <span class="fu">colnames</span>(dengue_df)</span>
<span id="cb5-9"><a href="databases.html#cb5-9" aria-hidden="true" tabindex="-1"></a>dengue_tidy <span class="ot">&lt;-</span> dengue_df <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span>col_dengue[<span class="dv">2</span><span class="sc">:</span><span class="dv">11</span>], <span class="at">names_to=</span><span class="st">&quot;country&quot;</span>, <span class="at">values_to=</span><span class="st">&quot;dengue_activity&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="databases.html#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Date, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>,<span class="st">&quot;day&quot;</span>),<span class="at">convert =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-11"><a href="databases.html#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="databases.html#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Tidy maken van flu data</span></span>
<span id="cb5-13"><a href="databases.html#cb5-13" aria-hidden="true" tabindex="-1"></a>flu_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/flu_data.csv&quot;</span>,<span class="at">skip=</span><span class="dv">11</span>) <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb5-14"><a href="databases.html#cb5-14" aria-hidden="true" tabindex="-1"></a>col_flu <span class="ot">&lt;-</span> <span class="fu">colnames</span>(flu_df)</span>
<span id="cb5-15"><a href="databases.html#cb5-15" aria-hidden="true" tabindex="-1"></a>flu_tidy <span class="ot">&lt;-</span> flu_df <span class="sc">%&gt;%</span> <span class="fu">pivot_longer</span>(<span class="at">cols=</span>col_flu[<span class="dv">2</span><span class="sc">:</span><span class="dv">30</span>], <span class="at">names_to=</span><span class="st">&quot;country&quot;</span>, <span class="at">values_to=</span><span class="st">&quot;flu_activity&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-16"><a href="databases.html#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(Date, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;month&quot;</span>,<span class="st">&quot;day&quot;</span>),<span class="at">convert =</span> <span class="cn">TRUE</span>) </span>
<span id="cb5-17"><a href="databases.html#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="databases.html#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="co">#opslaan als RDS</span></span>
<span id="cb5-19"><a href="databases.html#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dengue_tidy, <span class="at">file =</span> <span class="st">&quot;data/dengue.rds&quot;</span>)</span>
<span id="cb5-20"><a href="databases.html#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(flu_tidy, <span class="at">file =</span> <span class="st">&quot;data/flu.rds&quot;</span>)</span>
<span id="cb5-21"><a href="databases.html#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(gapminder_df, <span class="at">file =</span> <span class="st">&quot;data/gapminder.rds&quot;</span>)</span>
<span id="cb5-22"><a href="databases.html#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="databases.html#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="co">#opslaan als CSV</span></span>
<span id="cb5-24"><a href="databases.html#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(gapminder_df,<span class="st">&quot;data/gapminder.csv&quot;</span>)</span>
<span id="cb5-25"><a href="databases.html#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(dengue_tidy,<span class="st">&quot;data/dengue.csv&quot;</span>)</span>
<span id="cb5-26"><a href="databases.html#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(flu_tidy,<span class="st">&quot;data/flu.csv&quot;</span>)</span></code></pre></div>
<p>SQL code voor het creëren van een database:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb6-1"><a href="databases.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> workflowsdb;</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="databases.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb7-2"><a href="databases.html#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="databases.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Connectie opzetten</span></span>
<span id="cb7-4"><a href="databases.html#cb7-4" aria-hidden="true" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">dbConnect</span>(RPostgres<span class="sc">::</span><span class="fu">Postgres</span>(), </span>
<span id="cb7-5"><a href="databases.html#cb7-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">dbname =</span> <span class="st">&quot;workflowsdb&quot;</span>, </span>
<span id="cb7-6"><a href="databases.html#cb7-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">host=</span><span class="st">&quot;localhost&quot;</span>, </span>
<span id="cb7-7"><a href="databases.html#cb7-7" aria-hidden="true" tabindex="-1"></a>                 <span class="at">port=</span><span class="st">&quot;5432&quot;</span>, </span>
<span id="cb7-8"><a href="databases.html#cb7-8" aria-hidden="true" tabindex="-1"></a>                 <span class="at">user=</span><span class="st">&quot;postgres&quot;</span>,</span>
<span id="cb7-9"><a href="databases.html#cb7-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">password=</span><span class="st">&quot;Datascience&quot;</span>)</span>
<span id="cb7-10"><a href="databases.html#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="databases.html#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">#Aanmaken van tabellen in databse</span></span>
<span id="cb7-12"><a href="databases.html#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;flu&quot;</span>, flu_tidy)</span>
<span id="cb7-13"><a href="databases.html#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;dengue&quot;</span>, dengue_tidy)</span>
<span id="cb7-14"><a href="databases.html#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;gapminder&quot;</span>, gapminder_df)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="databases.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Jaren verwijderen die niet aanwezig zijn in flu en dengue</span></span>
<span id="cb9-2"><a href="databases.html#cb9-2" aria-hidden="true" tabindex="-1"></a>gapminder_minyear <span class="ot">&lt;-</span> gapminder_df[gapminder_df<span class="sc">$</span>year <span class="sc">&gt;=</span> <span class="fu">min</span>(flu_tidy<span class="sc">$</span>year), ]</span>
<span id="cb9-3"><a href="databases.html#cb9-3" aria-hidden="true" tabindex="-1"></a>gapminder_maxyear <span class="ot">&lt;-</span> gapminder_minyear[gapminder_minyear<span class="sc">$</span>year <span class="sc">&lt;=</span> <span class="fu">max</span>(flu_tidy<span class="sc">$</span>year), ]</span>
<span id="cb9-4"><a href="databases.html#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="databases.html#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#Landen weghalen die niet en flu en dengue aanwezig zijn</span></span>
<span id="cb9-6"><a href="databases.html#cb9-6" aria-hidden="true" tabindex="-1"></a>landen <span class="ot">&lt;-</span> <span class="fu">c</span>(col_dengue[<span class="dv">2</span><span class="sc">:</span><span class="dv">11</span>], col_flu[<span class="dv">2</span><span class="sc">:</span><span class="dv">30</span>],<span class="at">recursive=</span><span class="cn">TRUE</span>)</span>
<span id="cb9-7"><a href="databases.html#cb9-7" aria-hidden="true" tabindex="-1"></a>gapminder_clean <span class="ot">&lt;-</span> <span class="fu">subset</span>(gapminder_maxyear, country <span class="sc">%in%</span> landen)</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="databases.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Oude tabel verwijderen en nieuwe tabel invoegen</span></span>
<span id="cb10-2"><a href="databases.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dbRemoveTable</span>(con, <span class="st">&quot;flu&quot;</span>)</span>
<span id="cb10-3"><a href="databases.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dbWriteTable</span>(con, <span class="st">&quot;gapminder&quot;</span>, gapminder_clean)</span></code></pre></div>
<p>De ondesrtaande code is sql code wat gebruikt wordt om een grote tabel te creëren waar alle data in staat. Er worden left joins gebruikt omdat niet alle landen in beide de dengue dataset en flu dataset voorkomen. Deze informatie van bepaalde datasets kan wel interessant zijn voor het analyseren van data en wordt met de left join een NULL ingevoerd bij de missende data. Voor de rest worden alle kollomen van gapminder gekozen, de dag en maand van flu en de activity van beide flu en dengue. ook worden er joins op year, month en day gedaan. Dit is zodat ze gematched worden in de tabel en laad tijd verminderd bij het sorteren.
Bij het sorteren wordt eerst op het jaartal gesorteerd en daarna op het land om het zo overzichtelijk te houden.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="databases.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb11-2"><a href="databases.html#cb11-2" aria-hidden="true" tabindex="-1"></a>gapminder.<span class="op">*</span>,</span>
<span id="cb11-3"><a href="databases.html#cb11-3" aria-hidden="true" tabindex="-1"></a>flu.<span class="ot">&quot;day&quot;</span>,</span>
<span id="cb11-4"><a href="databases.html#cb11-4" aria-hidden="true" tabindex="-1"></a>flu.<span class="ot">&quot;month&quot;</span>,</span>
<span id="cb11-5"><a href="databases.html#cb11-5" aria-hidden="true" tabindex="-1"></a>flu.flu_activity,</span>
<span id="cb11-6"><a href="databases.html#cb11-6" aria-hidden="true" tabindex="-1"></a>dengue.dengue_activity</span>
<span id="cb11-7"><a href="databases.html#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span></span>
<span id="cb11-8"><a href="databases.html#cb11-8" aria-hidden="true" tabindex="-1"></a>    gapminder </span>
<span id="cb11-9"><a href="databases.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> flu  </span>
<span id="cb11-10"><a href="databases.html#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">ON</span> gapminder.<span class="ot">&quot;year&quot;</span>  <span class="op">=</span> flu.<span class="ot">&quot;year&quot;</span> <span class="kw">and</span> gapminder.country <span class="op">=</span> flu.country </span>
<span id="cb11-11"><a href="databases.html#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">join</span> dengue</span>
<span id="cb11-12"><a href="databases.html#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> dengue.<span class="ot">&quot;year&quot;</span> <span class="op">=</span> flu.<span class="ot">&quot;year&quot;</span> <span class="kw">and</span> dengue.<span class="ot">&quot;month&quot;</span> <span class="op">=</span> flu.<span class="ot">&quot;month&quot;</span> <span class="kw">and</span> dengue.<span class="ot">&quot;day&quot;</span> <span class="op">=</span> flu.<span class="ot">&quot;day&quot;</span> <span class="kw">and</span> dengue.country <span class="op">=</span> flu.country </span>
<span id="cb11-13"><a href="databases.html#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> gapminder.<span class="ot">&quot;year&quot;</span>, gapminder.country  ;</span></code></pre></div>
<p>Deze query wordt uitgevoerd in het programma beaver, hieronder een foto van het dashboard</p>
<p>FOTO !</p>
<p>Door de volgende tekst toe te voegen boven bovenstaande query wordt er een tabel gemaakt genaamd all_data</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="databases.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> all_data</span>
<span id="cb12-2"><a href="databases.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">AS</span></span></code></pre></div>
<p>Op deze afbeelding is te zien dat de tabel toegevoegd is aan de database</p>
<p>FOTO !</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="databases.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Data uit DB ophalen</span></span>
<span id="cb13-2"><a href="databases.html#cb13-2" aria-hidden="true" tabindex="-1"></a>all_data <span class="ot">&lt;-</span> <span class="fu">dbReadTable</span>(con, <span class="st">&quot;all_data&quot;</span>)</span>
<span id="cb13-3"><a href="databases.html#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="databases.html#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(all_data<span class="sc">$</span>flu_activity, <span class="fu">list</span>(all_data<span class="sc">$</span>year), mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb13-5"><a href="databases.html#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">aggregate</span>(all_data<span class="sc">$</span>dengue_activity, <span class="fu">list</span>(all_data<span class="sc">$</span>year), mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p>Nu we een dataset hebben met alle data kunnen er verschillende analyses op</p>

<div id="refs" class="references csl-bib-body hanging-indent">
<div class="csl-entry">
Brivio, Erica, Franco Locatelli, Marta Lopez-Yurda, Andrea Malone, Cristina Díaz-de-Heredia, Bella Bielorai, Claudia Rossig, et al. 2021. <span>“A phase 1 study of inotuzumab ozogamicin in pediatric relapsed/refractory acute lymphoblastic leukemia (ITCC-059 study).”</span> <em>Blood</em> 137 (12): 1582–90. <a href="https://doi.org/10.1182/blood.2020007848">https://doi.org/10.1182/blood.2020007848</a>.
</div>
<div class="csl-entry">
Carnero, A. 2006. <span>“High throughput screening in drug discovery.”</span> <em>Clinical &amp; Translational Oncology: Official Publication of the Federation of Spanish Oncology Societies and of the National Cancer Institute of Mexico</em> 8 (7): 482–90. <a href="https://doi.org/10.1007/s12094-006-0048-2">https://doi.org/10.1007/s12094-006-0048-2</a>.
</div>
<div class="csl-entry">
<span>“Ons verhaal.”</span> n.d. Prinses Máxima Centrum. Accessed May 29, 2022. <a href="https://www.prinsesmaximacentrum.nl/nl/over-ons/ons-verhaal">https://www.prinsesmaximacentrum.nl/nl/over-ons/ons-verhaal</a>.
</div>
<div class="csl-entry">
<span>“Shiny.”</span> n.d. Accessed May 29, 2022. <a href="https://shiny.rstudio.com/">https://shiny.rstudio.com/</a>.
</div>
<div class="csl-entry">
<span>“Survival Rate for Children with Brain Tumors Improved Since 1990.”</span> n.d. Research. Accessed May 29, 2022. <a href="https://research.prinsesmaximacentrum.nl/en/news-events/news/survival-rate-for-children-with-brain-tumors-improved-since-1990">https://research.prinsesmaximacentrum.nl/en/news-events/news/survival-rate-for-children-with-brain-tumors-improved-since-1990</a>.
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="het-citeren-van-andere-werken.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
