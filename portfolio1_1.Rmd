# C. elegans plate experiment

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  message = FALSE,
  warning = FALSE
)

library(DT)
library(kableExtra)
library(readxl)
library(tidyverse)
```

In dit onderzoek worden C. elegans nematodes blootgesteld aan verschillende soorten stoffen. In de RawData staat het aantal nematodes geteld zijn op de plat. compConcentration geeft de concentratie van de stof aan en expType de soort stof.

Er wordt een grafiek gemaakt waarbij het aantal nematode per stof op de plaat tegen de -10log concentratie wordt uitgezet.
In het experiment is de positieve controle van dit experiment is ethanol . De negatieve controle van dit experiment is de S-medium

```{r }
tabel <- read_excel(here::here("data/CE.LIQ.FLOW.062_Tidydata.xlsx"))
tabel$compConcentration <- as.double(tabel$compConcentration)
tabel$compName <- as.factor(tabel$compName)

#x-as concentreatie in -10log
tabel$compConcentration <- ifelse(tabel$compConcentration==0,0,-log10(tabel$compConcentration))


tabel %>% ggplot(aes(x=compConcentration,y=RawData,color=compName,shape=expType))+
  geom_jitter(width=0.1)+
  labs(x="Concentratie (-log10) ",
       y="Number of offspring")
```

Bij het importeren van de data naar een tibble was het type van de compConcentration kolom een character. Hierdoor wordt de x-as ingedeled in groepen in plaats van schaal. Dit is aangepast naar een double.

Experimentele opzet:
1. Data plotten zodat er een globaal overzicht hebt

```{r }
#Genormalizeerd en gemiddelde naar 1

neg_controle <- tabel %>% filter(expType=="controlNegative")

tabel$RawData[tabel$expType == 'controlNegative'] <- neg_controle$RawData / mean(neg_controle$RawData)
tabel %>% ggplot(aes(x=compConcentration,y=RawData,color=compName,shape=expType))+
  geom_jitter(width=0.1)+
  labs(x="Concentratie (-log10) ",
       y="Number of offspring")
```
