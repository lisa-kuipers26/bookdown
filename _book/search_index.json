[["index.html", "Portofolio workflows 1 Introductie", " Portofolio workflows Lisa Kuipers 2022-06-09 1 Introductie In dit portfolio staan verschillende onderwerpen die over reproduceerbaar werken en goede workflows gaan. Voor elk onderwerp is een aparte pagina gemaakt. Op deze paginas staat beschreven wat ik geleerd heb tijdens mijn minor data science. "],["verwerken-van-data.html", "2 Verwerken van data", " 2 Verwerken van data Het interperteren en verwerken van data van iemand anders is belangrijk in de data science. Er wordt hier data gebruikt van een onderzoek waar C. elegans nematodes blootgesteld aan verschillende soorten stoffen. Belangrijkste in een data analyse is bergrijpen waar je data over gaat. Door de metadata te lezen krijg je een goed idee van waar je dataset overgaat en wat elke kopje betekent. Voor dit onderzoek willen we het effect weten van verschillende stoffen op de nematode maar ook de het effect van verschillende concentraties. Om dit te onderzoeken worden de kolommen RawData, compConcentration en expType gebruikt. In RawData staan het aantal nematodes op de plaat, in de compConcentration de concentratie van de stof en de expType de soort stof. Om globaal een idee te krijgen van het effect worden deze variabel tegen elkaar uitget in de grafiek hieronder. library(DT) library(kableExtra) library(readxl) library(tidyverse) ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 -- ## v ggplot2 3.3.6 v purrr 0.3.4 ## v tibble 3.1.7 v dplyr 1.0.8 ## v tidyr 1.2.0 v stringr 1.4.0 ## v readr 2.1.2 v forcats 0.5.1 ## -- Conflicts ------------------------------------------ tidyverse_conflicts() -- ## x dplyr::filter() masks stats::filter() ## x dplyr::group_rows() masks kableExtra::group_rows() ## x dplyr::lag() masks stats::lag() tabel &lt;- read_excel(here::here(&quot;data/CE.LIQ.FLOW.062_Tidydata.xlsx&quot;)) tabel$compConcentration &lt;- as.double(tabel$compConcentration) ## Warning: NAs introduced by coercion tabel$compName &lt;- as.factor(tabel$compName) #x-as concentreatie in -10log tabel$compConcentration &lt;- ifelse(tabel$compConcentration==0,0,-log10(tabel$compConcentration)) tabel %&gt;% ggplot(aes(x=compConcentration,y=RawData,color=compName,shape=expType))+ geom_jitter(width=0.1)+ labs(x=&quot;Concentratie (-log10) &quot;, y=&quot;Number of offspring&quot;) ## Warning: Removed 6 rows containing missing values (geom_point). In het experiment is de positieve controle van dit experiment is ethanol . De negatieve controle van dit experiment is de S-medium Bij het verwerken van data is het belangrijk dat de data goed ingelezen wordt. Eén ding waar we tegen lopen bij deze dataset is dat de compConcentration ingelezen wordt als character type i.p.v. een getal. Hierdoor klopt de de x-as niet met wat je wilt zien, omdat er groepen en geen schaal weergegeven wordt. Dit wordt opgelost door het typ evan compConcentration te veranderen van een character naar een double. De bovenstaande grafiek geeft een globaal overzicht, maar er kunnen geen conclusies uitgetrokken worden. Hiervoor is een verdere data analyse nodig. Zon data analyse kan er als volgt uitzien: Data plotten zodat er een globaal overzicht hebt #Genormalizeerd en gemiddelde naar 1 neg_controle &lt;- tabel %&gt;% filter(expType==&quot;controlNegative&quot;) tabel$RawData[tabel$expType == &#39;controlNegative&#39;] &lt;- neg_controle$RawData / mean(neg_controle$RawData) tabel %&gt;% ggplot(aes(x=compConcentration,y=RawData,color=compName,shape=expType))+ geom_jitter(width=0.1)+ labs(x=&quot;Concentratie (-log10) &quot;, y=&quot;Number of offspring&quot;) ## Warning: Removed 6 rows containing missing values (geom_point). "],["open-peer-review.html", "3 Open Peer Review 3.1 Onderzoek op reproduceerbaarheid beoordelen 3.2 Code zelf reproduceren", " 3 Open Peer Review 3.1 Onderzoek op reproduceerbaarheid beoordelen In dit gedeelte wordt een artikel beoordeeld op de reproduceerbaarheid. Deze wordt beoordeeld aan de hand van verschillende criteria omschreven in de onderstaande tabel. Voor de beoordeling is een artikel gekozen primair onderzoek dat beschikbaar is op PMC. Gebruikte artikel: Amawi KF, Alkhatib AJ. Urtica Pilulifera in Treating Pre-diabetic Rat Model to Control the Blood Glucose, Lipids and Oxidative Stress. Med Arch. 2020;74(3):168-171. doi:10.5455/medarh.2020.74.168-171 https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7405998/ 3.1.1 Omschrijving onderzoek Het doel van het onderzoek is kijken of Urtica pilulifera (een plant) effect heeft op pre-diabetische ratten en ook de antioxiderende werking onderzoeken De ratten werden ingedeeld in drie groepen van 10; een controle groep, een pre diabetische groep, en een groep met de behandeling van U. pilulifera. De ratten pre-diabetisch gemaakt kregen een hoog sucrose dieet, de controle groep een normaal dieet en de behandelde groep kreeg hetzelfde dieet als de pre-diabetische ratten met U. pilulifera extract geïnjecteerd. Na 30 dagen werden bloed samples afgenomen en getest op glucose, triglycerides, cholesterol, GSH, TAC en MDA Uit het onderoek bleek dat glucose, triglyceride en MDA niveaus in de pre-diabetic groep significant verhoogd waren en significant verlaagd in de U. pilulifera groep. GSH en TAC was significant hoger in de U. pilulifera ten opzichte van de pre-diabetische groep. Er zat geen significant verschil in cholesterol niveau in de groepen. 3.1.2 Beoordeling artikel In de tabel staat of het artikel aan de verschillende criterium voldoet. Criteria Answer Study purpose Yes Data availability No Data location Data location not stated Study location Yes Author review Author listed but did not fill out contact Ethics statement No Funding statement Yes Code availability No Het blijkt dat het artikel maar aan drie van acht criteria voldoet. Hoewel het artikel goed te lezen was is deze dus toch niet goed reproduceerbaar. 3.2 Code zelf reproduceren Net is er gekeken reporduceerbaarheid van een primair onderzoek. In dit onderdeel wordt er gekeken naar de reporduceerbaarheid van (R) code. Data en code van onderstaand onderzoek gebruikt: Strozza C, Myrskylä M. Monitoring trends and differences in COVID-19 case-fatality rates using decomposition methods: Contributions of age structure and age-specific fatality. PLoS One. 2020 Sep 10;15(9):e0238904. doi: 10.1371/journal.pone.0238904. PMID: 32913365; PMCID: PMC7482960. https://pubmed.ncbi.nlm.nih.gov/32913365/ Link naar de code: https://osf.io/g7vjd/ 3.2.1 Beoordeling script Het script zelf was goed te lezen. Er waren 4 scripts die elkaar opvolgde, door de getallen in de bestandsnaam was het makkelijk te zien welke als eerst uitgevoerd moest worden. In de scripts zelf stonden genoeg comments om te begrijpen waar elk stuk code voor diende en ziet de code zelf er netjes uit. Ik geef de leesbaarheid dus ook een 5/5 De code was ook goed reproduceerbaar. Er was alleen één probleem wat handmatig opgelost moest worden, dit probleem en hoe deze opgelost is staat beschreven hieronder. Hierdoor krijgt de reproduceerbaarheid een 4/5, want nadat dit probleem opgelost was, konden alle tabellen makkelijk gemaakt worden. 3.2.2 Probleem in script ### Monitoring trends and differences in COVID-19 case fatality ############## ### rates using decomposition methods: A demographic perspective ############## ### Last updated: 2020-07-16 09:27:20 CEST ### Contact: ### riffe@demogr.mpg.de ### acosta@demogr.mpg.de ### dudel@demogr.mpg.de ### Get data ################################################################## # Required packages source((&quot;R/00_functions.R&quot;)) # URL + filename url &lt;- &#39;https://osf.io/wu5ve//?action=download&#39; filename &lt;- &#39;Data/Output_10.csv&#39; # Load data GET(url, write_disk(filename, overwrite = TRUE)) dat &lt;- read_csv(filename,skip=3) Bij het uitvoeren van de code hierboven kwam de onderstaande foutmelding: In de foutmelding is een html bestand te zien. Dit hoort natuurlijk niet bij een read_csv() functie. In de code wordt het bestand van een online directory gedownload. De URL staat in de code en wanneer deze bezocht werd stond er dit bericht: Het bestand bevindt zich niet meer op de plek waar de URL naar verwees en kon dus ook niet gedownload worden waardoor de html van de pagina werd overgenomen. Er was echter wel een menu aan de zijkant aanwezig waar het mogelijk is om bij de github van het project te komen. Hier vond ik het output bestand wat nodig is voor de code en heb deze handmatig gedownload en toegevoegd aan de /data directory. Nadat deze in de directory stond kon het script en de rest van de scripts vlekkeloos uitgevoerd worden. Hieronder staat het script met de aanpassing. De rest van het script kan gevonden worden op de bovenstaande link. De output van het script zijn 6 verschillende excel bestanden met data over het verloop van COVID-19 in 6 verschillende landen. ### Monitoring trends and differences in COVID-19 case fatality ############## ### rates using decomposition methods: A demographic perspective ############## ### Last updated: 2020-07-16 09:27:20 CEST ### Contact: ### riffe@demogr.mpg.de ### acosta@demogr.mpg.de ### dudel@demogr.mpg.de ### Get data ################################################################## # Required packages source((&quot;R/00_functions.R&quot;)) # URL + filename filename &lt;- &#39;data/Output_10.csv&#39; # Load data dat &lt;- read_csv(filename,skip=3) ### Edit data (select countries, etc.) ######################################## # Lists of countries and regions countrylist &lt;- c(&quot;China&quot;,&quot;Germany&quot;,&quot;Italy&quot;,&quot;South Korea&quot;,&quot;Spain&quot;,&quot;USA&quot;) region &lt;- c(&quot;All&quot;,&quot;NYC&quot;) # Restrict dat &lt;- dat %&gt;% filter(Country %in% countrylist &amp; Region %in% region) # Remove Tests variable dat &lt;- dat %&gt;% mutate(Tests=NULL) # Drop if no cases/Deaths dat &lt;- na.omit(dat) ### Save ###################################################################### write_csv(dat,file=&quot;Data/inputdata.csv&quot;) "],["data-organiseren.html", "4 Data organiseren", " 4 Data organiseren Het organizeren van data is belangrijk voor reproduceerbaarheid en algemene goede workflow. Hieronder staat een voorbeeld van een map met verschillende projecten. Elke map heeft dezelfde indeling, bij de data en scripts zijn README bestanden toegevoegd waarin metadata staat over het onderzoek. De data mappen zelf zijn verdeeld in datatypes wanneer er hier veel van aanwezig zijn. Dit is om het overzicht te houden. Scripts staan in dezelfde folder als het project. "],["cv.html", "5 cv", " 5 cv Lisa Kuipers Contact 0612345678 lisa.kuipers26@hotmail.com params: country: Belgium start_year: 2020 end_year: 2022 start_day: 1 end_day: 31 start_month: 1 end_month: 12 "],["parameters-voor-flexibiliteit.html", "6 Parameters voor flexibiliteit", " 6 Parameters voor flexibiliteit library(tidyverse) library(ggplot2) library(params) ## Loading required package: whisker ## Registered S3 method overwritten by &#39;params&#39;: ## method from ## print.knitr_kable knitr ## ## Attaching package: &#39;params&#39; ## The following object is masked from &#39;package:kableExtra&#39;: ## ## kable data_table &lt;- read_csv(&quot;data/EDCC_daily.csv&quot;) ## Rows: 24474 Columns: 11 ## -- Column specification -------------------------------------------------------- ## Delimiter: &quot;,&quot; ## chr (5): dateRep, countriesAndTerritories, geoId, countryterritoryCode, cont... ## dbl (6): day, month, year, cases, deaths, popData2020 ## ## i Use `spec()` to retrieve the full column specification for this data. ## i Specify the column types or set `show_col_types = FALSE` to quiet this message. data_filtered &lt;- data_table %&gt;% filter(year &gt;= params$start_year &amp; year &lt;= params$end_year &amp; countriesAndTerritories == params$country &amp; day %in% c(params$start_day:params$end_day) &amp; month %in% c(params$start_month:params$end_month)) data_filtered$date_range &lt;- paste0(data_filtered$year,data_filtered$month,data_filtered$day) plot_func &lt;- function(dataset,condition){ dataset %&gt;% ggplot(aes(x=date_range, y=dataset[[condition]]))+ geom_point()+ scale_x_discrete(breaks=data_filtered$date_range[seq(1,length(data_filtered$date_range),by=50)])+ theme(axis.text.x = element_text(angle = 90))+ labs(x=&quot;Date&quot;, y=condition, title = paste(&quot;Amount of COVID-19&quot;,condition,&quot; from&quot;,data_filtered$dateRep[length(data_filtered$dateRep)],&quot;to&quot;,data_filtered$dateRep[1])) } plot_func(data_filtered,&quot;cases&quot;) plot_func(data_filtered,&quot;deaths&quot;) ## Warning: Removed 16 rows containing missing values (geom_point). "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
