<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>9 Parameters voor flexibiliteit | Portofolio data science</title>
<meta name="author" content="Lisa Kuipers">
<meta name="description" content="Parameters in yaml headers kunnen gebruikt worden om je code dynamischer te maken. Het is een snelle manier van variabelen veranderen bij het filteren van een dataset. Hieronder staat een...">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="9 Parameters voor flexibiliteit | Portofolio data science">
<meta property="og:type" content="book">
<meta property="og:description" content="Parameters in yaml headers kunnen gebruikt worden om je code dynamischer te maken. Het is een snelle manier van variabelen veranderen bij het filteren van een dataset. Hieronder staat een...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="9 Parameters voor flexibiliteit | Portofolio data science">
<meta name="twitter:description" content="Parameters in yaml headers kunnen gebruikt worden om je code dynamischer te maken. Het is een snelle manier van variabelen veranderen bij het filteren van een dataset. Hieronder staat een...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="my-styles.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Portofolio data science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introductie</a></li>
<li><a class="" href="verwerken-van-data.html"><span class="header-section-number">2</span> Verwerken van data</a></li>
<li><a class="" href="open-peer-review.html"><span class="header-section-number">3</span> Open Peer Review</a></li>
<li><a class="" href="data-organiseren.html"><span class="header-section-number">4</span> Data organiseren</a></li>
<li><a class="" href="cv.html"><span class="header-section-number">5</span> cv</a></li>
<li><a class="" href="het-citeren-van-andere-werken.html"><span class="header-section-number">6</span> Het citeren van andere werken</a></li>
<li><a class="" href="databases.html"><span class="header-section-number">7</span> Databases</a></li>
<li><a class="" href="r-packages.html"><span class="header-section-number">8</span> R packages</a></li>
<li><a class="active" href="parameters-voor-flexibiliteit.html"><span class="header-section-number">9</span> Parameters voor flexibiliteit</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="parameters-voor-flexibiliteit" class="section level1">
<h1>
<span class="header-section-number">9</span> Parameters voor flexibiliteit<a class="anchor" aria-label="anchor" href="#parameters-voor-flexibiliteit"><i class="fas fa-link"></i></a>
</h1>
<p>Parameters in yaml headers kunnen gebruikt worden om je code dynamischer te maken. Het is een snelle manier van variabelen veranderen bij het filteren van een dataset.</p>
<p>Hieronder staat een voorbeeld van hoe de yaml header eruit ziet met verschillende parameters. Voor de analyse verderop hebben we dezelfde paramteres gebruitk als in de afbeelding.</p>
<div class="figure">
<span style="display:block;" id="fig:yaml"></span>
<img src="images/yaml.png" alt="Afbeelding 1: Parameters in de yaml header." width="200px"><p class="caption">
Figure 9.1: Afbeelding 1: Parameters in de yaml header.
</p>
</div>
<p>De parameters kunnen in een interactief scherm weergegeven worden. Deze verschijnd wanneer het bestand geknit wordt.</p>
<div class="figure">
<span style="display:block;" id="fig:parameters"></span>
<img src="images/para.png" alt="Afbeelding 2: Parameters bij knitten." width="600px"><p class="caption">
Figure 9.2: Afbeelding 2: Parameters bij knitten.
</p>
</div>
<p>Hieronder staat de code van het filteren van de de EDCC_daily dataset gevonden op: <a href="https://www.ecdc.europa.eu/en/covid-19/data" class="uri">https://www.ecdc.europa.eu/en/covid-19/data</a>. In de dataset staan het aantal gevallen en sterfgevallen van COVID-19 uit de periode van 2020 t/m 2022. De parameters die boven staan zijn gebruikt in het filteren. Wanneer iemand van dezelfde jaar, maand of dag de data wilt weergeven kan bij de end en start parameters dezelfde datum ingevoerd worden. Ik heb ervoor gekozen om de hele beschikbare periode te nemen voor deze analyse, om te kijken of er een verband is tussen de cases and deaths.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sahilseth/params">params</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://stringr.tidyverse.org">stringr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Data inlezen</span></span>
<span><span class="va">data_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html">read_csv</a></span><span class="op">(</span><span class="st">"data/EDCC_daily.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Data filteren</span></span>
<span><span class="va">data_filtered</span> <span class="op">&lt;-</span> <span class="va">data_table</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="va">params</span><span class="op">$</span><span class="va">start_year</span> <span class="op">&amp;</span> <span class="va">year</span> <span class="op">&lt;=</span> <span class="va">params</span><span class="op">$</span><span class="va">end_year</span> <span class="op">&amp;</span> <span class="va">countriesAndTerritories</span> <span class="op">==</span> <span class="va">params</span><span class="op">$</span><span class="va">country</span> <span class="op">&amp;</span> <span class="va">day</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">start_day</span><span class="op">:</span><span class="va">params</span><span class="op">$</span><span class="va">end_day</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">month</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">params</span><span class="op">$</span><span class="va">start_month</span><span class="op">:</span><span class="va">params</span><span class="op">$</span><span class="va">end_month</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Oploopbare range maken</span></span>
<span><span class="va">data_filtered</span><span class="op">$</span><span class="va">date_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">year</span>,<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"%02d"</span>,<span class="va">data_filtered</span><span class="op">$</span><span class="va">month</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"%02d"</span>,<span class="va">data_filtered</span><span class="op">$</span><span class="va">day</span><span class="op">)</span><span class="op">)</span> </span>
<span></span>
<span><span class="co">#Functie voor plot</span></span>
<span><span class="va">plot_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span>,<span class="va">condition</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">date_range</span>, y<span class="op">=</span><span class="va">dataset</span><span class="op">[[</span><span class="va">condition</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>breaks<span class="op">=</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">date_range</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">date_range</span><span class="op">)</span>,by<span class="op">=</span><span class="fl">50</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">90</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x<span class="op">=</span><span class="st">"Date"</span>,</span>
<span>       y<span class="op">=</span><span class="va">condition</span>,</span>
<span>       title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Amount of COVID-19"</span>,<span class="va">condition</span>,<span class="st">"from"</span>,<span class="va">data_filtered</span><span class="op">$</span><span class="va">dateRep</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">dateRep</span><span class="op">)</span><span class="op">]</span>,<span class="st">"to"</span>,<span class="va">data_filtered</span><span class="op">$</span><span class="va">dateRep</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,<span class="st">"in Belgium"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>In de code is te zien dat de dataset gefilterd wordt met de parameters door <code>params</code> te gebruiken voor de gedefineerde parameter naam uit de yaml header.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plot_func</span><span class="op">(</span><span class="va">data_filtered</span>,<span class="st">"cases"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/functie%20uitvoeren%20cases-1.png" alt="Figuur 1: Aantal COVID-19 cases van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as" width="672"><p class="caption">
(#fig:functie uitvoeren cases)Figuur 1: Aantal COVID-19 cases van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as
</p>
</div>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">plot_func</span><span class="op">(</span><span class="va">data_filtered</span>,<span class="st">"deaths"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/functie%20uitvoeren%20deaths-1.png" alt="Figuur 2: Aantal COVID-19 deaths van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as" width="672"><p class="caption">
(#fig:functie uitvoeren deaths)Figuur 2: Aantal COVID-19 deaths van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as
</p>
</div>
<p>Uit de gefilterde set en functie zijn twee grafieken gegenereerd. Wat ik interessant vind om te zien bij deze figuren is dat het aantal doden aan het begin het hoogste lag terwijl het aantal cases relatief niet heel hoog waren. Bij de eerste piek van cases is bij het aantal dode ook een piek te zien ronde dezelfde datum. Daarna zwakt het aantal doden vergeleken met de cases af. Of dit komt doordat mensen met een verzwakt imuunsysteem sneller zijn overleden of omdat vaccinaties hun werk gedaan hebben is niet direct op te maken uit deze data, maar het is wel een interessant verband.</p>

</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-packages.html"><span class="header-section-number">8</span> R packages</a></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav"><li><a class="nav-link" href="#parameters-voor-flexibiliteit"><span class="header-section-number">9</span> Parameters voor flexibiliteit</a></li></ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Portofolio data science</strong>" was written by Lisa Kuipers. It was last built on 2022-06-28.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
