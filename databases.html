<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>8 Databases | Portfolio data science</title>
<meta name="author" content="Lisa Kuipers">
<meta name="description" content="Databases worden gebruikt om veel data in op te slaan. Deze data is makkelijk op te zoeken met de codeer taal SQL. Op deze pagina wordt weergegeven hoe databases met R gekoppeld kunnen worden en...">
<meta name="generator" content="bookdown 0.27 with bs4_book()">
<meta property="og:title" content="8 Databases | Portfolio data science">
<meta property="og:type" content="book">
<meta property="og:description" content="Databases worden gebruikt om veel data in op te slaan. Deze data is makkelijk op te zoeken met de codeer taal SQL. Op deze pagina wordt weergegeven hoe databases met R gekoppeld kunnen worden en...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="8 Databases | Portfolio data science">
<meta name="twitter:description" content="Databases worden gebruikt om veel data in op te slaan. Deze data is makkelijk op te zoeken met de codeer taal SQL. Op deze pagina wordt weergegeven hoe databases met R gekoppeld kunnen worden en...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="my-styles.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Portfolio data science</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Introductie</a></li>
<li><a class="" href="verwerken-van-data.html"><span class="header-section-number">2</span> Verwerken van data</a></li>
<li><a class="" href="open-peer-review.html"><span class="header-section-number">3</span> Open Peer Review</a></li>
<li><a class="" href="data-organiseren.html"><span class="header-section-number">4</span> Data organiseren</a></li>
<li><a class="" href="flow-cytometry-analyse.html"><span class="header-section-number">5</span> Flow cytometry analyse</a></li>
<li><a class="" href="cv.html"><span class="header-section-number">6</span> cv</a></li>
<li><a class="" href="het-citeren-van-andere-werken.html"><span class="header-section-number">7</span> Het citeren van andere werken</a></li>
<li><a class="active" href="databases.html"><span class="header-section-number">8</span> Databases</a></li>
<li><a class="" href="r-packages.html"><span class="header-section-number">9</span> R packages</a></li>
<li><a class="" href="parameters-voor-flexibiliteit.html"><span class="header-section-number">10</span> Parameters voor flexibiliteit</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="databases" class="section level1">
<h1>
<span class="header-section-number">8</span> Databases<a class="anchor" aria-label="anchor" href="#databases"><i class="fas fa-link"></i></a>
</h1>
<p>Databases worden gebruikt om veel data in op te slaan. Deze data is makkelijk op te zoeken met de codeer taal SQL. Op deze pagina wordt weergegeven hoe databases met R gekoppeld kunnen worden en worden er een paar stukken SQL code getoond.</p>
<div id="data-voorbereiden" class="section level2">
<h2>
<span class="header-section-number">8.1</span> Data voorbereiden<a class="anchor" aria-label="anchor" href="#data-voorbereiden"><i class="fas fa-link"></i></a>
</h2>
<p>Om wat verschillende functies van de database te laten zien worden er verschillende datasets ingeladen. Hieronder wordt de data van de dengue en flu google trends tidy gemaakt, door de landnamen in één kolom te zetten. Ook wordt er een aparte kolom gemaakt met de naam van de ziekte. Voorderest worden ook de datum opgesplitst in dagen, maanden en jaren zodat deze later samengevoegd kunnen worden met de gapminder data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">dslabs</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#laden van gapminder</span></span>
<span><span class="va">gapminder_df</span> <span class="op">&lt;-</span> <span class="va">gapminder</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co">#tidy maken van data functie</span></span>
<span><span class="va">tidy_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">path</span>,<span class="va">name</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">read_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="va">path</span>, skip<span class="op">=</span><span class="fl">11</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="va">as.data.frame</span></span>
<span>  <span class="va">col_nam</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">read_df</span><span class="op">)</span></span>
<span>  <span class="va">read_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols<span class="op">=</span><span class="va">col_nam</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span>, names_to<span class="op">=</span><span class="st">"country"</span>, values_to<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"activity"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html">separate</a></span><span class="op">(</span><span class="va">Date</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"year"</span>, <span class="st">"month"</span>,<span class="st">"day"</span><span class="op">)</span>,convert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="st">"disease"</span><span class="op">=</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">dengue_tidy</span> <span class="op">&lt;-</span> <span class="fu">tidy_func</span><span class="op">(</span><span class="st">"data/dengue_data.csv"</span>,<span class="st">"dengue"</span><span class="op">)</span></span>
<span><span class="va">flu_tidy</span> <span class="op">&lt;-</span> <span class="fu">tidy_func</span><span class="op">(</span><span class="st">"data/flu_data.csv"</span>,<span class="st">"flu"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#opslaan als RDS</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">dengue_tidy</span>, file <span class="op">=</span> <span class="st">"data/dengue_tidy.rds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">flu_tidy</span>, file <span class="op">=</span> <span class="st">"data/flu_tidy.rds"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">gapminder_df</span>, file <span class="op">=</span> <span class="st">"data/gapminder.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#opslaan als CSV</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">gapminder_df</span>,<span class="st">"data/gapminder.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">dengue_tidy</span>,<span class="st">"data/dengue_tidy.csv"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">flu_tidy</span>,<span class="st">"data/flu_tidy.csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gapminder_df</span> </span></code></pre></div>
<p>Er moet een database gemaakt worden om de tabellen op te slaan. Hieronder staat SQL code die ingevoerd kan worden bij het programma dBeaver (of een andere database software) voor het creëren van een database.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="databases.html#cb9-1"></a><span class="kw">CREATE</span> <span class="kw">DATABASE</span> workflows;</span></code></pre></div>
<p>Om de database te gebruiken in R wordt er een connectie aangemaakt. Met de connectie kan R code gebruikt worden voor interactie met de database. Dit is handig omdat er dan niet steeds tussen twee programma’s hoeft te switchen. Via de connectie worden de verschillende tabellen ingeladen in de database.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dbi.r-dbi.org">DBI</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Connectie opzetten</span></span>
<span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html">dbConnect</a></span><span class="op">(</span><span class="fu">RPostgres</span><span class="fu">::</span><span class="fu">Postgres</span><span class="op">(</span><span class="op">)</span>, </span>
<span>                 dbname <span class="op">=</span> <span class="st">"workflows"</span>, </span>
<span>                 host<span class="op">=</span><span class="st">"localhost"</span>, </span>
<span>                 port<span class="op">=</span><span class="st">"5432"</span>, </span>
<span>                 user<span class="op">=</span><span class="st">"postgres"</span>,</span>
<span>                 password<span class="op">=</span><span class="st">"Datascience"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Aanmaken van tabellen in databse</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"flu"</span>, <span class="va">flu_tidy</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"dengue"</span>, <span class="va">dengue_tidy</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"gapminder"</span>, <span class="va">gapminder_df</span><span class="op">)</span></span></code></pre></div>
<p>Om de gapminder wat netter te maken heb ik ervoor gekozen om alvast de landen en jaren die niet in de flu en dengue google trend data voorkomt te verwijderen.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Jaren verwijderen die niet aanwezig zijn in flu en dengue</span></span>
<span><span class="va">gapminder_minyear</span> <span class="op">&lt;-</span> <span class="va">gapminder_df</span><span class="op">[</span><span class="va">gapminder_df</span><span class="op">$</span><span class="va">year</span> <span class="op">&gt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">flu_tidy</span><span class="op">$</span><span class="va">year</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="va">gapminder_maxyear</span> <span class="op">&lt;-</span> <span class="va">gapminder_minyear</span><span class="op">[</span><span class="va">gapminder_minyear</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">flu_tidy</span><span class="op">$</span><span class="va">year</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co">#Landen weghalen die niet en flu en dengue aanwezig zijn</span></span>
<span><span class="va">landen</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">dengue_tidy</span><span class="op">$</span><span class="va">country</span>, <span class="va">flu_tidy</span><span class="op">$</span><span class="va">country</span>,recursive<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">gapminder_clean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">gapminder_maxyear</span>, <span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">landen</span><span class="op">)</span></span></code></pre></div>
<p>De oude tabel gapminder wordt via de connectie verwijderd en de nette wordt ingevoerd</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Oude tabel verwijderen en nieuwe tabel invoegen</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbRemoveTable.html">dbRemoveTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"gapminder"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbWriteTable.html">dbWriteTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"gapminder"</span>, <span class="va">gapminder_clean</span><span class="op">)</span></span></code></pre></div>
<p>SQL code is erg letterlijk en makkelijk leesbaar. Om de flu en dengue datasets meer tidy te maken wordt de functie <code>UNION ALL</code> gebruikt. Deze functie zorgt ervoor dat twee tabellen die dezelfde kolommen hebben samen worden gevoegd. Omdat alle kolommen overeenkomen kan er een sterretje gebruikt worden bij select om alle kollommen mee te nemen. Het eindresultaat een tabel genaamd flu_dengue waarin de informatie van de twee ziektes gecombineerd staat.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="databases.html#cb13-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> flu_dengue</span>
<span id="cb13-2"><a href="databases.html#cb13-2"></a><span class="kw">AS</span></span>
<span id="cb13-3"><a href="databases.html#cb13-3"></a></span>
<span id="cb13-4"><a href="databases.html#cb13-4"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb13-5"><a href="databases.html#cb13-5"></a><span class="kw">FROM</span> </span>
<span id="cb13-6"><a href="databases.html#cb13-6"></a>  flu </span>
<span id="cb13-7"><a href="databases.html#cb13-7"></a></span>
<span id="cb13-8"><a href="databases.html#cb13-8"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb13-9"><a href="databases.html#cb13-9"></a> </span>
<span id="cb13-10"><a href="databases.html#cb13-10"></a><span class="kw">SELECT</span> <span class="op">*</span></span>
<span id="cb13-11"><a href="databases.html#cb13-11"></a> </span>
<span id="cb13-12"><a href="databases.html#cb13-12"></a><span class="kw">FROM</span></span>
<span id="cb13-13"><a href="databases.html#cb13-13"></a>  dengue</span></code></pre></div>
<p>De tabel die net aangemaakt is wordt samengevoegd met de gapminder dataset door een join te gebruiken. In dit geval een left join op jaar, omdat gapminder alleen per jaar gaan en niet maanden en dagen. Door bij select worden de kollommen gekozen, waarbij alles van gapminder die ook overlap heeft met flu_dengue en de kolommen die alleen in flu_dengue aanwezig zijn. Daarbij gejoined met land zodat de dataset netter geordend is. Aan het einde wordt er geordend op jaar, land, maand en dag. Het resultaat is een tabel genaamd all_data en deze gaat gebruikt worden voor de komende analyses.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="databases.html#cb14-1"></a><span class="kw">create</span> <span class="kw">table</span> all_data</span>
<span id="cb14-2"><a href="databases.html#cb14-2"></a><span class="kw">as</span></span>
<span id="cb14-3"><a href="databases.html#cb14-3"></a></span>
<span id="cb14-4"><a href="databases.html#cb14-4"></a><span class="kw">select</span> </span>
<span id="cb14-5"><a href="databases.html#cb14-5"></a>gapminder.<span class="op">*</span>,</span>
<span id="cb14-6"><a href="databases.html#cb14-6"></a>flu_dengue.<span class="ot">"month"</span>,</span>
<span id="cb14-7"><a href="databases.html#cb14-7"></a>flu_dengue.<span class="ot">"day"</span>,</span>
<span id="cb14-8"><a href="databases.html#cb14-8"></a>flu_dengue.disease,</span>
<span id="cb14-9"><a href="databases.html#cb14-9"></a>flu_dengue.activity</span>
<span id="cb14-10"><a href="databases.html#cb14-10"></a></span>
<span id="cb14-11"><a href="databases.html#cb14-11"></a><span class="kw">from</span> gapminder </span>
<span id="cb14-12"><a href="databases.html#cb14-12"></a><span class="kw">left</span> <span class="kw">join</span> flu_dengue</span>
<span id="cb14-13"><a href="databases.html#cb14-13"></a><span class="kw">on</span> flu_dengue.<span class="ot">"year"</span> <span class="op">=</span> gapminder.<span class="ot">"year"</span> <span class="kw">and</span> flu_dengue.country <span class="op">=</span> gapminder.country</span>
<span id="cb14-14"><a href="databases.html#cb14-14"></a>    </span>
<span id="cb14-15"><a href="databases.html#cb14-15"></a><span class="kw">ORDER</span> <span class="kw">BY</span> gapminder.<span class="ot">"year"</span>, gapminder.country, flu_dengue.<span class="ot">"month"</span>, flu_dengue.<span class="ot">"day"</span>  ;</span></code></pre></div>
<p>De tabel wordt opgehaald uit de database om deze in R te gebruiken en opgeslagen als een RDS voor eventueel later gebruik. De connectie met de database is niet meer nodig dus wordt deze afgesloten.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Data uit DB ophalen</span></span>
<span><span class="va">all_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dbi.r-dbi.org/reference/dbReadTable.html">dbReadTable</a></span><span class="op">(</span><span class="va">con</span>, <span class="st">"all_data"</span><span class="op">)</span></span>
<span><span class="co">#Dataset opslaan in data </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span><span class="op">(</span><span class="va">all_data</span>, file<span class="op">=</span><span class="st">"data/all_data.rds"</span><span class="op">)</span></span>
<span><span class="co">#Connectie met database sluiten</span></span>
<span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbDisconnect.html">dbDisconnect</a></span><span class="op">(</span><span class="va">con</span><span class="op">)</span> </span></code></pre></div>
</div>
<div id="data-analyse" class="section level2">
<h2>
<span class="header-section-number">8.2</span> Data analyse<a class="anchor" aria-label="anchor" href="#data-analyse"><i class="fas fa-link"></i></a>
</h2>
<p>Met de gecombineerde tabel worden een paar analyses uitgevoerd</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span></span>
<span><span class="va">populatie_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span>,<span class="va">year</span>,<span class="va">name</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">country_data</span> <span class="op">&lt;-</span> <span class="va">dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">==</span><span class="fl">2008</span>, <span class="va">disease</span><span class="op">==</span><span class="va">name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">activity</span>, na.rm<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">population</span><span class="op">)</span>,<span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">country_data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"country"</span>,<span class="st">"activity"</span>,<span class="st">"population"</span>,<span class="st">"GDP"</span><span class="op">)</span></span>
<span>  <span class="va">country_data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">country_data</span><span class="op">$</span><span class="va">population</span>, decreasing<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,<span class="op">]</span></span>
<span></span>
<span>  <span class="va">plot1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">country_data</span>,</span>
<span>                   x <span class="op">=</span> <span class="op">~</span><span class="va">activity</span>,</span>
<span>                   y <span class="op">=</span> <span class="op">~</span><span class="va">population</span>, </span>
<span>                   type <span class="op">=</span> <span class="st">'scatter'</span>,</span>
<span>                   color <span class="op">=</span><span class="op">~</span><span class="va">country</span>,</span>
<span>                   showlegend<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">layout</span><span class="op">(</span>yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Population'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">plot2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/plot_ly.html">plot_ly</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">country_data</span>,</span>
<span>                   x <span class="op">=</span> <span class="op">~</span><span class="va">activity</span>,</span>
<span>                   y <span class="op">=</span> <span class="op">~</span><span class="va">GDP</span>, </span>
<span>                   type <span class="op">=</span> <span class="st">'scatter'</span>,</span>
<span>                   color <span class="op">=</span><span class="op">~</span><span class="va">country</span>,</span>
<span>                   showlegend<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu">layout</span><span class="op">(</span>xaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'Activity'</span><span class="op">)</span>, </span>
<span>           yaxis <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">'GDP'</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="va">fig</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/subplot.html">subplot</a></span><span class="op">(</span><span class="va">plot1</span>,<span class="va">plot2</span>, nrows <span class="op">=</span> <span class="fl">2</span>,titleY <span class="op">=</span> <span class="cn">TRUE</span>, shareX <span class="op">=</span> <span class="cn">TRUE</span>, titleX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="fu">layout</span><span class="op">(</span>title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html">str_to_title</a></span><span class="op">(</span><span class="va">name</span><span class="op">)</span>,<span class="st">"search activity tegen populatie en GDP in"</span>, <span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">fig</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>In de code hierboven staat een functie die ervoor zorgt dat beide populatie en GDP van landen tegenover de gemiddelde search activity van flu en dengue van geplaatst wordt van een bepaald jaar. Dit gebeurt . Het leek mij immers interessant om te zien of bij grotere populaties meer gezocht werd naar deze ziektes, omdat meer mensen voor meer spreiding zorgen, maar ook omdat meer mensen kunnen zoeken. Ook wou ik kijken naar het GDP om te kijken of er verschil zit tussen rijkere en armere landen. Uit de functie volgt een plotly plot. Deze is interactief en wanneer de muis over de puntjes heen gaat zal het land en precieze data tevoorschijn komen</p>
<div id="htmlwidget-b5f95291a71fa019f3d9" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b5f95291a71fa019f3d9">{"x":{"data":[{"x":[178.826923076923],"y":[40381860],"showlegend":false,"type":"scatter","mode":"markers","name":"Argentina","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[482.519230769231],"y":[21370348],"showlegend":false,"type":"scatter","mode":"markers","name":"Australia","marker":{"color":"rgba(161,182,146,1)","line":{"color":"rgba(161,182,146,1)"}},"textfont":{"color":"rgba(161,182,146,1)"},"error_y":{"color":"rgba(161,182,146,1)"},"error_x":{"color":"rgba(161,182,146,1)"},"line":{"color":"rgba(161,182,146,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[828.173076923077],"y":[8331465],"showlegend":false,"type":"scatter","mode":"markers","name":"Austria","marker":{"color":"rgba(201,168,127,1)","line":{"color":"rgba(201,168,127,1)"}},"textfont":{"color":"rgba(201,168,127,1)"},"error_y":{"color":"rgba(201,168,127,1)"},"error_x":{"color":"rgba(201,168,127,1)"},"line":{"color":"rgba(201,168,127,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[90.3076923076923],"y":[10779155],"showlegend":false,"type":"scatter","mode":"markers","name":"Belgium","marker":{"color":"rgba(235,152,109,1)","line":{"color":"rgba(235,152,109,1)"}},"textfont":{"color":"rgba(235,152,109,1)"},"error_y":{"color":"rgba(235,152,109,1)"},"error_x":{"color":"rgba(235,152,109,1)"},"line":{"color":"rgba(235,152,109,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[317.807692307692],"y":[9599916],"showlegend":false,"type":"scatter","mode":"markers","name":"Bolivia","marker":{"color":"rgba(242,144,111,1)","line":{"color":"rgba(242,144,111,1)"}},"textfont":{"color":"rgba(242,144,111,1)"},"error_y":{"color":"rgba(242,144,111,1)"},"error_x":{"color":"rgba(242,144,111,1)"},"line":{"color":"rgba(242,144,111,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[243.019230769231],"y":[194769696],"showlegend":false,"type":"scatter","mode":"markers","name":"Brazil","marker":{"color":"rgba(217,150,141,1)","line":{"color":"rgba(217,150,141,1)"}},"textfont":{"color":"rgba(217,150,141,1)"},"error_y":{"color":"rgba(217,150,141,1)"},"error_x":{"color":"rgba(217,150,141,1)"},"line":{"color":"rgba(217,150,141,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[676.730769230769],"y":[7513646],"showlegend":false,"type":"scatter","mode":"markers","name":"Bulgaria","marker":{"color":"rgba(187,155,170,1)","line":{"color":"rgba(187,155,170,1)"}},"textfont":{"color":"rgba(187,155,170,1)"},"error_y":{"color":"rgba(187,155,170,1)"},"error_x":{"color":"rgba(187,155,170,1)"},"line":{"color":"rgba(187,155,170,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1631.26923076923],"y":[33363256],"showlegend":false,"type":"scatter","mode":"markers","name":"Canada","marker":{"color":"rgba(148,159,199,1)","line":{"color":"rgba(148,159,199,1)"}},"textfont":{"color":"rgba(148,159,199,1)"},"error_y":{"color":"rgba(148,159,199,1)"},"error_x":{"color":"rgba(148,159,199,1)"},"line":{"color":"rgba(148,159,199,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[7.92307692307692],"y":[16645940],"showlegend":false,"type":"scatter","mode":"markers","name":"Chile","marker":{"color":"rgba(166,156,201,1)","line":{"color":"rgba(166,156,201,1)"}},"textfont":{"color":"rgba(166,156,201,1)"},"error_y":{"color":"rgba(166,156,201,1)"},"error_x":{"color":"rgba(166,156,201,1)"},"line":{"color":"rgba(166,156,201,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93.3269230769231],"y":[62309529],"showlegend":false,"type":"scatter","mode":"markers","name":"France","marker":{"color":"rgba(192,150,199,1)","line":{"color":"rgba(192,150,199,1)"}},"textfont":{"color":"rgba(192,150,199,1)"},"error_y":{"color":"rgba(192,150,199,1)"},"error_x":{"color":"rgba(192,150,199,1)"},"line":{"color":"rgba(192,150,199,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[838.115384615385],"y":[80665906],"showlegend":false,"type":"scatter","mode":"markers","name":"Germany","marker":{"color":"rgba(215,144,197,1)","line":{"color":"rgba(215,144,197,1)"}},"textfont":{"color":"rgba(215,144,197,1)"},"error_y":{"color":"rgba(215,144,197,1)"},"error_x":{"color":"rgba(215,144,197,1)"},"line":{"color":"rgba(215,144,197,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[104.423076923077],"y":[10050699],"showlegend":false,"type":"scatter","mode":"markers","name":"Hungary","marker":{"color":"rgba(228,146,187,1)","line":{"color":"rgba(228,146,187,1)"}},"textfont":{"color":"rgba(228,146,187,1)"},"error_y":{"color":"rgba(228,146,187,1)"},"error_x":{"color":"rgba(228,146,187,1)"},"line":{"color":"rgba(228,146,187,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[92.2884615384615],"y":[127317900],"showlegend":false,"type":"scatter","mode":"markers","name":"Japan","marker":{"color":"rgba(214,170,159,1)","line":{"color":"rgba(214,170,159,1)"}},"textfont":{"color":"rgba(214,170,159,1)"},"error_y":{"color":"rgba(214,170,159,1)"},"error_x":{"color":"rgba(214,170,159,1)"},"line":{"color":"rgba(214,170,159,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1164.88461538462],"y":[114972821],"showlegend":false,"type":"scatter","mode":"markers","name":"Mexico","marker":{"color":"rgba(196,191,129,1)","line":{"color":"rgba(196,191,129,1)"}},"textfont":{"color":"rgba(196,191,129,1)"},"error_y":{"color":"rgba(196,191,129,1)"},"error_x":{"color":"rgba(196,191,129,1)"},"line":{"color":"rgba(196,191,129,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[34.6346153846154],"y":[16519862],"showlegend":false,"type":"scatter","mode":"markers","name":"Netherlands","marker":{"color":"rgba(174,211,95,1)","line":{"color":"rgba(174,211,95,1)"}},"textfont":{"color":"rgba(174,211,95,1)"},"error_y":{"color":"rgba(174,211,95,1)"},"error_x":{"color":"rgba(174,211,95,1)"},"line":{"color":"rgba(174,211,95,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[43.6730769230769],"y":[4771633],"showlegend":false,"type":"scatter","mode":"markers","name":"Norway","marker":{"color":"rgba(186,217,78,1)","line":{"color":"rgba(186,217,78,1)"}},"textfont":{"color":"rgba(186,217,78,1)"},"error_y":{"color":"rgba(186,217,78,1)"},"error_x":{"color":"rgba(186,217,78,1)"},"line":{"color":"rgba(186,217,78,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[285],"y":[6047131],"showlegend":false,"type":"scatter","mode":"markers","name":"Paraguay","marker":{"color":"rgba(211,217,68,1)","line":{"color":"rgba(211,217,68,1)"}},"textfont":{"color":"rgba(211,217,68,1)"},"error_y":{"color":"rgba(211,217,68,1)"},"error_x":{"color":"rgba(211,217,68,1)"},"line":{"color":"rgba(211,217,68,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[229.730769230769],"y":[28642048],"showlegend":false,"type":"scatter","mode":"markers","name":"Peru","marker":{"color":"rgba(235,217,58,1)","line":{"color":"rgba(235,217,58,1)"}},"textfont":{"color":"rgba(235,217,58,1)"},"error_y":{"color":"rgba(235,217,58,1)"},"error_x":{"color":"rgba(235,217,58,1)"},"line":{"color":"rgba(235,217,58,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[50.3269230769231],"y":[38525752],"showlegend":false,"type":"scatter","mode":"markers","name":"Poland","marker":{"color":"rgba(254,216,53,1)","line":{"color":"rgba(254,216,53,1)"}},"textfont":{"color":"rgba(254,216,53,1)"},"error_y":{"color":"rgba(254,216,53,1)"},"error_x":{"color":"rgba(254,216,53,1)"},"line":{"color":"rgba(254,216,53,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[755.038461538462],"y":[20741669],"showlegend":false,"type":"scatter","mode":"markers","name":"Romania","marker":{"color":"rgba(248,210,88,1)","line":{"color":"rgba(248,210,88,1)"}},"textfont":{"color":"rgba(248,210,88,1)"},"error_y":{"color":"rgba(248,210,88,1)"},"error_x":{"color":"rgba(248,210,88,1)"},"line":{"color":"rgba(248,210,88,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[403.384615384615],"y":[143123163],"showlegend":false,"type":"scatter","mode":"markers","name":"Russia","marker":{"color":"rgba(241,204,114,1)","line":{"color":"rgba(241,204,114,1)"}},"textfont":{"color":"rgba(241,204,114,1)"},"error_y":{"color":"rgba(241,204,114,1)"},"error_x":{"color":"rgba(241,204,114,1)"},"line":{"color":"rgba(241,204,114,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[42.4807692307692],"y":[45817016],"showlegend":false,"type":"scatter","mode":"markers","name":"Spain","marker":{"color":"rgba(233,198,138,1)","line":{"color":"rgba(233,198,138,1)"}},"textfont":{"color":"rgba(233,198,138,1)"},"error_y":{"color":"rgba(233,198,138,1)"},"error_x":{"color":"rgba(233,198,138,1)"},"line":{"color":"rgba(233,198,138,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[3.25],"y":[9226333],"showlegend":false,"type":"scatter","mode":"markers","name":"Sweden","marker":{"color":"rgba(222,193,153,1)","line":{"color":"rgba(222,193,153,1)"}},"textfont":{"color":"rgba(222,193,153,1)"},"error_y":{"color":"rgba(222,193,153,1)"},"error_x":{"color":"rgba(222,193,153,1)"},"line":{"color":"rgba(222,193,153,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[64.3269230769231],"y":[7646542],"showlegend":false,"type":"scatter","mode":"markers","name":"Switzerland","marker":{"color":"rgba(208,188,162,1)","line":{"color":"rgba(208,188,162,1)"}},"textfont":{"color":"rgba(208,188,162,1)"},"error_y":{"color":"rgba(208,188,162,1)"},"error_x":{"color":"rgba(208,188,162,1)"},"line":{"color":"rgba(208,188,162,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[393.403846153846],"y":[46028476],"showlegend":false,"type":"scatter","mode":"markers","name":"Ukraine","marker":{"color":"rgba(194,184,171,1)","line":{"color":"rgba(194,184,171,1)"}},"textfont":{"color":"rgba(194,184,171,1)"},"error_y":{"color":"rgba(194,184,171,1)"},"error_x":{"color":"rgba(194,184,171,1)"},"line":{"color":"rgba(194,184,171,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[121.903846153846],"y":[3350832],"showlegend":false,"type":"scatter","mode":"markers","name":"Uruguay","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[178.826923076923],"y":[394594682115],"showlegend":false,"type":"scatter","mode":"markers","name":"Argentina","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[482.519230769231],"y":[542761040949],"showlegend":false,"type":"scatter","mode":"markers","name":"Australia","marker":{"color":"rgba(161,182,146,1)","line":{"color":"rgba(161,182,146,1)"}},"textfont":{"color":"rgba(161,182,146,1)"},"error_y":{"color":"rgba(161,182,146,1)"},"error_x":{"color":"rgba(161,182,146,1)"},"line":{"color":"rgba(161,182,146,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[828.173076923077],"y":[227557455520],"showlegend":false,"type":"scatter","mode":"markers","name":"Austria","marker":{"color":"rgba(201,168,127,1)","line":{"color":"rgba(201,168,127,1)"}},"textfont":{"color":"rgba(201,168,127,1)"},"error_y":{"color":"rgba(201,168,127,1)"},"error_x":{"color":"rgba(201,168,127,1)"},"line":{"color":"rgba(201,168,127,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[90.3076923076923],"y":[268825324878],"showlegend":false,"type":"scatter","mode":"markers","name":"Belgium","marker":{"color":"rgba(235,152,109,1)","line":{"color":"rgba(235,152,109,1)"}},"textfont":{"color":"rgba(235,152,109,1)"},"error_y":{"color":"rgba(235,152,109,1)"},"error_x":{"color":"rgba(235,152,109,1)"},"line":{"color":"rgba(235,152,109,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[317.807692307692],"y":[11373495913],"showlegend":false,"type":"scatter","mode":"markers","name":"Bolivia","marker":{"color":"rgba(242,144,111,1)","line":{"color":"rgba(242,144,111,1)"}},"textfont":{"color":"rgba(242,144,111,1)"},"error_y":{"color":"rgba(242,144,111,1)"},"error_x":{"color":"rgba(242,144,111,1)"},"line":{"color":"rgba(242,144,111,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[243.019230769231],"y":[857885609996],"showlegend":false,"type":"scatter","mode":"markers","name":"Brazil","marker":{"color":"rgba(217,150,141,1)","line":{"color":"rgba(217,150,141,1)"}},"textfont":{"color":"rgba(217,150,141,1)"},"error_y":{"color":"rgba(217,150,141,1)"},"error_x":{"color":"rgba(217,150,141,1)"},"line":{"color":"rgba(217,150,141,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[676.730769230769],"y":[20285749709],"showlegend":false,"type":"scatter","mode":"markers","name":"Bulgaria","marker":{"color":"rgba(187,155,170,1)","line":{"color":"rgba(187,155,170,1)"}},"textfont":{"color":"rgba(187,155,170,1)"},"error_y":{"color":"rgba(187,155,170,1)"},"error_x":{"color":"rgba(187,155,170,1)"},"line":{"color":"rgba(187,155,170,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1631.26923076923],"y":[869687235058],"showlegend":false,"type":"scatter","mode":"markers","name":"Canada","marker":{"color":"rgba(148,159,199,1)","line":{"color":"rgba(148,159,199,1)"}},"textfont":{"color":"rgba(148,159,199,1)"},"error_y":{"color":"rgba(148,159,199,1)"},"error_x":{"color":"rgba(148,159,199,1)"},"line":{"color":"rgba(148,159,199,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[7.92307692307692],"y":[104806280194],"showlegend":false,"type":"scatter","mode":"markers","name":"Chile","marker":{"color":"rgba(166,156,201,1)","line":{"color":"rgba(166,156,201,1)"}},"textfont":{"color":"rgba(166,156,201,1)"},"error_y":{"color":"rgba(166,156,201,1)"},"error_x":{"color":"rgba(166,156,201,1)"},"line":{"color":"rgba(166,156,201,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[93.3269230769231],"y":[1504107370104],"showlegend":false,"type":"scatter","mode":"markers","name":"France","marker":{"color":"rgba(192,150,199,1)","line":{"color":"rgba(192,150,199,1)"}},"textfont":{"color":"rgba(192,150,199,1)"},"error_y":{"color":"rgba(192,150,199,1)"},"error_x":{"color":"rgba(192,150,199,1)"},"line":{"color":"rgba(192,150,199,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[838.115384615385],"y":[2103666875608],"showlegend":false,"type":"scatter","mode":"markers","name":"Germany","marker":{"color":"rgba(215,144,197,1)","line":{"color":"rgba(215,144,197,1)"}},"textfont":{"color":"rgba(215,144,197,1)"},"error_y":{"color":"rgba(215,144,197,1)"},"error_x":{"color":"rgba(215,144,197,1)"},"line":{"color":"rgba(215,144,197,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[104.423076923077],"y":[59698693168],"showlegend":false,"type":"scatter","mode":"markers","name":"Hungary","marker":{"color":"rgba(228,146,187,1)","line":{"color":"rgba(228,146,187,1)"}},"textfont":{"color":"rgba(228,146,187,1)"},"error_y":{"color":"rgba(228,146,187,1)"},"error_x":{"color":"rgba(228,146,187,1)"},"line":{"color":"rgba(228,146,187,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[92.2884615384615],"y":[5163457616712],"showlegend":false,"type":"scatter","mode":"markers","name":"Japan","marker":{"color":"rgba(214,170,159,1)","line":{"color":"rgba(214,170,159,1)"}},"textfont":{"color":"rgba(214,170,159,1)"},"error_y":{"color":"rgba(214,170,159,1)"},"error_x":{"color":"rgba(214,170,159,1)"},"line":{"color":"rgba(214,170,159,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[1164.88461538462],"y":[699939486221],"showlegend":false,"type":"scatter","mode":"markers","name":"Mexico","marker":{"color":"rgba(196,191,129,1)","line":{"color":"rgba(196,191,129,1)"}},"textfont":{"color":"rgba(196,191,129,1)"},"error_y":{"color":"rgba(196,191,129,1)"},"error_x":{"color":"rgba(196,191,129,1)"},"line":{"color":"rgba(196,191,129,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[34.6346153846154],"y":[449761878488],"showlegend":false,"type":"scatter","mode":"markers","name":"Netherlands","marker":{"color":"rgba(174,211,95,1)","line":{"color":"rgba(174,211,95,1)"}},"textfont":{"color":"rgba(174,211,95,1)"},"error_y":{"color":"rgba(174,211,95,1)"},"error_x":{"color":"rgba(174,211,95,1)"},"line":{"color":"rgba(174,211,95,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[43.6730769230769],"y":[197402589382],"showlegend":false,"type":"scatter","mode":"markers","name":"Norway","marker":{"color":"rgba(186,217,78,1)","line":{"color":"rgba(186,217,78,1)"}},"textfont":{"color":"rgba(186,217,78,1)"},"error_y":{"color":"rgba(186,217,78,1)"},"error_x":{"color":"rgba(186,217,78,1)"},"line":{"color":"rgba(186,217,78,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[285],"y":[9458532785],"showlegend":false,"type":"scatter","mode":"markers","name":"Paraguay","marker":{"color":"rgba(211,217,68,1)","line":{"color":"rgba(211,217,68,1)"}},"textfont":{"color":"rgba(211,217,68,1)"},"error_y":{"color":"rgba(211,217,68,1)"},"error_x":{"color":"rgba(211,217,68,1)"},"line":{"color":"rgba(211,217,68,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[229.730769230769],"y":[84302372402],"showlegend":false,"type":"scatter","mode":"markers","name":"Peru","marker":{"color":"rgba(235,217,58,1)","line":{"color":"rgba(235,217,58,1)"}},"textfont":{"color":"rgba(235,217,58,1)"},"error_y":{"color":"rgba(235,217,58,1)"},"error_x":{"color":"rgba(235,217,58,1)"},"line":{"color":"rgba(235,217,58,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[50.3269230769231],"y":[237742898868],"showlegend":false,"type":"scatter","mode":"markers","name":"Poland","marker":{"color":"rgba(254,216,53,1)","line":{"color":"rgba(254,216,53,1)"}},"textfont":{"color":"rgba(254,216,53,1)"},"error_y":{"color":"rgba(254,216,53,1)"},"error_x":{"color":"rgba(254,216,53,1)"},"line":{"color":"rgba(254,216,53,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[755.038461538462],"y":[61198545647],"showlegend":false,"type":"scatter","mode":"markers","name":"Romania","marker":{"color":"rgba(248,210,88,1)","line":{"color":"rgba(248,210,88,1)"}},"textfont":{"color":"rgba(248,210,88,1)"},"error_y":{"color":"rgba(248,210,88,1)"},"error_x":{"color":"rgba(248,210,88,1)"},"line":{"color":"rgba(248,210,88,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[403.384615384615],"y":[432048331750],"showlegend":false,"type":"scatter","mode":"markers","name":"Russia","marker":{"color":"rgba(241,204,114,1)","line":{"color":"rgba(241,204,114,1)"}},"textfont":{"color":"rgba(241,204,114,1)"},"error_y":{"color":"rgba(241,204,114,1)"},"error_x":{"color":"rgba(241,204,114,1)"},"line":{"color":"rgba(241,204,114,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[42.4807692307692],"y":[740341770865],"showlegend":false,"type":"scatter","mode":"markers","name":"Spain","marker":{"color":"rgba(233,198,138,1)","line":{"color":"rgba(233,198,138,1)"}},"textfont":{"color":"rgba(233,198,138,1)"},"error_y":{"color":"rgba(233,198,138,1)"},"error_x":{"color":"rgba(233,198,138,1)"},"line":{"color":"rgba(233,198,138,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[3.25],"y":[302392423838],"showlegend":false,"type":"scatter","mode":"markers","name":"Sweden","marker":{"color":"rgba(222,193,153,1)","line":{"color":"rgba(222,193,153,1)"}},"textfont":{"color":"rgba(222,193,153,1)"},"error_y":{"color":"rgba(222,193,153,1)"},"error_x":{"color":"rgba(222,193,153,1)"},"line":{"color":"rgba(222,193,153,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[64.3269230769231],"y":[292452808698],"showlegend":false,"type":"scatter","mode":"markers","name":"Switzerland","marker":{"color":"rgba(208,188,162,1)","line":{"color":"rgba(208,188,162,1)"}},"textfont":{"color":"rgba(208,188,162,1)"},"error_y":{"color":"rgba(208,188,162,1)"},"error_x":{"color":"rgba(208,188,162,1)"},"line":{"color":"rgba(208,188,162,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[393.403846153846],"y":[53572110088],"showlegend":false,"type":"scatter","mode":"markers","name":"Ukraine","marker":{"color":"rgba(194,184,171,1)","line":{"color":"rgba(194,184,171,1)"}},"textfont":{"color":"rgba(194,184,171,1)"},"error_y":{"color":"rgba(194,184,171,1)"},"error_x":{"color":"rgba(194,184,171,1)"},"line":{"color":"rgba(194,184,171,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[121.903846153846],"y":[27378107386],"showlegend":false,"type":"scatter","mode":"markers","name":"Uruguay","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Activity","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"title":"GDP","anchor":"x"},"yaxis":{"domain":[0.52,1],"automargin":true,"title":"Population","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false,"title":{"text":"Flu search activity tegen populatie en GDP in 2008"}},"attrs":{"7e479a0ab24":{"x":{},"y":{},"showlegend":false,"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"7e4234406de":{"x":{},"y":{},"showlegend":false,"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>Figuur3: Interactieve plot van google flu search activity in 2008, met op de x-as de activity en op de y-as de GDP en populatie. De puntjes zijn per land gekleurd.</p>
<p>In het figuur hierboven wordt de flu activity bekeken. Het ziet er niet naar uit dat er een correlatie is tussen populatie of GDP en flu search activity. Canada heeft de meeste search activity terwijl niet een bepaald hoge of lage populatie of GDP. Het kan komen doordat de meeste mensen in Canada Engels spreken en er dus automatisch naar “Flu” gezocht wordt. Kijkende naar Australia die beide een wat lagere en populatie en GDP dan Canada heeft daar in tegen een veel lagere search activity. Maar twee datapunten zegt niet veel.</p>
<div id="htmlwidget-39972d8b817c3109cdf3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-39972d8b817c3109cdf3">{"x":{"data":[{"x":[0.0281153846153846],"y":[40381860],"showlegend":false,"type":"scatter","mode":"markers","name":"Argentina","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.0287115384615385],"y":[9599916],"showlegend":false,"type":"scatter","mode":"markers","name":"Bolivia","marker":{"color":"rgba(228,156,113,1)","line":{"color":"rgba(228,156,113,1)"}},"textfont":{"color":"rgba(228,156,113,1)"},"error_y":{"color":"rgba(228,156,113,1)"},"error_x":{"color":"rgba(228,156,113,1)"},"line":{"color":"rgba(228,156,113,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.185634615384615],"y":[194769696],"showlegend":false,"type":"scatter","mode":"markers","name":"Brazil","marker":{"color":"rgba(201,152,157,1)","line":{"color":"rgba(201,152,157,1)"}},"textfont":{"color":"rgba(201,152,157,1)"},"error_y":{"color":"rgba(201,152,157,1)"},"error_x":{"color":"rgba(201,152,157,1)"},"line":{"color":"rgba(201,152,157,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.0855961538461538],"y":[1197070109],"showlegend":false,"type":"scatter","mode":"markers","name":"India","marker":{"color":"rgba(175,154,200,1)","line":{"color":"rgba(175,154,200,1)"}},"textfont":{"color":"rgba(175,154,200,1)"},"error_y":{"color":"rgba(175,154,200,1)"},"error_x":{"color":"rgba(175,154,200,1)"},"line":{"color":"rgba(175,154,200,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.205865384615385],"y":[235360765],"showlegend":false,"type":"scatter","mode":"markers","name":"Indonesia","marker":{"color":"rgba(226,148,184,1)","line":{"color":"rgba(226,148,184,1)"}},"textfont":{"color":"rgba(226,148,184,1)"},"error_y":{"color":"rgba(226,148,184,1)"},"error_x":{"color":"rgba(226,148,184,1)"},"line":{"color":"rgba(226,148,184,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.114346153846154],"y":[114972821],"showlegend":false,"type":"scatter","mode":"markers","name":"Mexico","marker":{"color":"rgba(176,208,99,1)","line":{"color":"rgba(176,208,99,1)"}},"textfont":{"color":"rgba(176,208,99,1)"},"error_y":{"color":"rgba(176,208,99,1)"},"error_x":{"color":"rgba(176,208,99,1)"},"line":{"color":"rgba(176,208,99,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.107884615384615],"y":[90297115],"showlegend":false,"type":"scatter","mode":"markers","name":"Philippines","marker":{"color":"rgba(227,217,62,1)","line":{"color":"rgba(227,217,62,1)"}},"textfont":{"color":"rgba(227,217,62,1)"},"error_y":{"color":"rgba(227,217,62,1)"},"error_x":{"color":"rgba(227,217,62,1)"},"line":{"color":"rgba(227,217,62,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.120153846153846],"y":[4849641],"showlegend":false,"type":"scatter","mode":"markers","name":"Singapore","marker":{"color":"rgba(245,207,100,1)","line":{"color":"rgba(245,207,100,1)"}},"textfont":{"color":"rgba(245,207,100,1)"},"error_y":{"color":"rgba(245,207,100,1)"},"error_x":{"color":"rgba(245,207,100,1)"},"line":{"color":"rgba(245,207,100,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.1194375],"y":[66453255],"showlegend":false,"type":"scatter","mode":"markers","name":"Thailand","marker":{"color":"rgba(219,192,155,1)","line":{"color":"rgba(219,192,155,1)"}},"textfont":{"color":"rgba(219,192,155,1)"},"error_y":{"color":"rgba(219,192,155,1)"},"error_x":{"color":"rgba(219,192,155,1)"},"line":{"color":"rgba(219,192,155,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.300961538461538],"y":[28116716],"showlegend":false,"type":"scatter","mode":"markers","name":"Venezuela","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[0.0281153846153846],"y":[394594682115],"showlegend":false,"type":"scatter","mode":"markers","name":"Argentina","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.0287115384615385],"y":[11373495913],"showlegend":false,"type":"scatter","mode":"markers","name":"Bolivia","marker":{"color":"rgba(228,156,113,1)","line":{"color":"rgba(228,156,113,1)"}},"textfont":{"color":"rgba(228,156,113,1)"},"error_y":{"color":"rgba(228,156,113,1)"},"error_x":{"color":"rgba(228,156,113,1)"},"line":{"color":"rgba(228,156,113,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.185634615384615],"y":[857885609996],"showlegend":false,"type":"scatter","mode":"markers","name":"Brazil","marker":{"color":"rgba(201,152,157,1)","line":{"color":"rgba(201,152,157,1)"}},"textfont":{"color":"rgba(201,152,157,1)"},"error_y":{"color":"rgba(201,152,157,1)"},"error_x":{"color":"rgba(201,152,157,1)"},"line":{"color":"rgba(201,152,157,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.0855961538461538],"y":[820830424070],"showlegend":false,"type":"scatter","mode":"markers","name":"India","marker":{"color":"rgba(175,154,200,1)","line":{"color":"rgba(175,154,200,1)"}},"textfont":{"color":"rgba(175,154,200,1)"},"error_y":{"color":"rgba(175,154,200,1)"},"error_x":{"color":"rgba(175,154,200,1)"},"line":{"color":"rgba(175,154,200,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.205865384615385],"y":[247270439238],"showlegend":false,"type":"scatter","mode":"markers","name":"Indonesia","marker":{"color":"rgba(226,148,184,1)","line":{"color":"rgba(226,148,184,1)"}},"textfont":{"color":"rgba(226,148,184,1)"},"error_y":{"color":"rgba(226,148,184,1)"},"error_x":{"color":"rgba(226,148,184,1)"},"line":{"color":"rgba(226,148,184,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.114346153846154],"y":[699939486221],"showlegend":false,"type":"scatter","mode":"markers","name":"Mexico","marker":{"color":"rgba(176,208,99,1)","line":{"color":"rgba(176,208,99,1)"}},"textfont":{"color":"rgba(176,208,99,1)"},"error_y":{"color":"rgba(176,208,99,1)"},"error_x":{"color":"rgba(176,208,99,1)"},"line":{"color":"rgba(176,208,99,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.107884615384615],"y":[118507880852],"showlegend":false,"type":"scatter","mode":"markers","name":"Philippines","marker":{"color":"rgba(227,217,62,1)","line":{"color":"rgba(227,217,62,1)"}},"textfont":{"color":"rgba(227,217,62,1)"},"error_y":{"color":"rgba(227,217,62,1)"},"error_x":{"color":"rgba(227,217,62,1)"},"line":{"color":"rgba(227,217,62,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.120153846153846],"y":[145818948185],"showlegend":false,"type":"scatter","mode":"markers","name":"Singapore","marker":{"color":"rgba(245,207,100,1)","line":{"color":"rgba(245,207,100,1)"}},"textfont":{"color":"rgba(245,207,100,1)"},"error_y":{"color":"rgba(245,207,100,1)"},"error_x":{"color":"rgba(245,207,100,1)"},"line":{"color":"rgba(245,207,100,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.1194375],"y":[178059776977],"showlegend":false,"type":"scatter","mode":"markers","name":"Thailand","marker":{"color":"rgba(219,192,155,1)","line":{"color":"rgba(219,192,155,1)"}},"textfont":{"color":"rgba(219,192,155,1)"},"error_y":{"color":"rgba(219,192,155,1)"},"error_x":{"color":"rgba(219,192,155,1)"},"line":{"color":"rgba(219,192,155,1)"},"xaxis":"x","yaxis":"y2","frame":null},{"x":[0.300961538461538],"y":[167167089250],"showlegend":false,"type":"scatter","mode":"markers","name":"Venezuela","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"Activity","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"title":"GDP","anchor":"x"},"yaxis":{"domain":[0.52,1],"automargin":true,"title":"Population","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false,"title":{"text":"Dengue search activity tegen populatie en GDP in 2008"}},"attrs":{"7e43ed049d2":{"x":{},"y":{},"showlegend":false,"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"7e45c9e9a35":{"x":{},"y":{},"showlegend":false,"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>Figuur4: Interactieve plot van google dengue search activity in 2008, met op de x-as de activity en op de y-as de GDP en populatie. De puntjes zijn per land gekleurd.</p>
<p>Net als bij flu ziet het eruit dat er geen correlatie is tussen populatie of GDP en activity.</p>
<p>Bij de volgende analyse wordt er naar op welk tijdstip in het jaar naar flu en dengue gezocht wordt om te kijken of er dudielijke te zien is wanneer het griep seizoen is en of dengue ook een seizoen heeft wanneer deze meer actief is.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RColorBrewer</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co">#Summarise van data per year </span></span>
<span><span class="va">flu_dengue</span> <span class="op">&lt;-</span> <span class="va">all_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">month</span>, <span class="va">year</span>, <span class="va">disease</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span><span class="op">!=</span><span class="fl">2002</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">activity</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">flu_dengue</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"month"</span>,<span class="st">"year"</span>,<span class="st">"disease"</span>, <span class="st">"activity"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#Functie voor plot van verloop activity</span></span>
<span><span class="va">activity_years_func</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span>,<span class="va">name</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">dataset</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">disease</span><span class="op">==</span><span class="va">name</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">month</span>,y<span class="op">=</span><span class="va">activity</span>, group<span class="op">=</span><span class="va">year</span>, color<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>name<span class="op">=</span><span class="st">"Month"</span>, breaks<span class="op">=</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>, limits<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">12</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html">scale_color_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span><span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Eerst wordt de data van beide dengue en flu de gemiddelde activity paar maand. Daarna is er een functie die twee plots kan genereren.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">activity_years_func</span><span class="op">(</span><span class="va">flu_dengue</span>,<span class="st">"flu"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure">
<img src="_main_files/figure-html/activity%20flu-1.png" width="672">
Figuur5: FLu search activity per maand per jaar. Op de x-as staat de maand en op de y-as de activity. De lijnen zijn gevormd door de gemiddelde search activity per maand te nemen.</div>
<p>Wanneer er griep heerst zullen mensen dit sneller opzoeken op internet. Bij figuur … is duidelijk te zien wanneer griep het meest heerst, wat vooral van september tot maart is. Dit zakt ook weer of in de maanden van maart tot september</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">activity_years_func</span><span class="op">(</span><span class="va">flu_dengue</span>,<span class="st">"dengue"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure">
<img src="_main_files/figure-html/activity%20dengue-1.png" width="672">
Figuur6: Dengue search activity per maand per jaar. Op de x-as staat de maand en op de y-as de activity. De lijnen zijn gevormd door de gemiddelde search activity per maand te nemen.</div>
<p>Bij dengue is er een mindere sterke trend te zitten. Wel zijn er meer pieken te zien en het begin van het jaar en aan het einde, met vooral sterke pieken aan het einde. Bij de meeste jaren ziet het eruit dat het in het midden van het jaar zakt, maar niet bij de jaren 2007,2009 en 2010.</p>
<hr>
</div>
<div id="bronnen" class="section level2">
<h2>
<span class="header-section-number">8.3</span> Bronnen<a class="anchor" aria-label="anchor" href="#bronnen"><i class="fas fa-link"></i></a>
</h2>
<p>Bronnen:
Flu dataset: “Data Source: Google Flu Trends (<a href="http://www.google.org/flutrends" class="uri">http://www.google.org/flutrends</a>)”</p>
<p>Dengue dataset: “Data Source: Google Dengue Trends (<a href="http://www.google.org/denguetrends" class="uri">http://www.google.org/denguetrends</a>)”</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="het-citeren-van-andere-werken.html"><span class="header-section-number">7</span> Het citeren van andere werken</a></div>
<div class="next"><a href="r-packages.html"><span class="header-section-number">9</span> R packages</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#databases"><span class="header-section-number">8</span> Databases</a></li>
<li><a class="nav-link" href="#data-voorbereiden"><span class="header-section-number">8.1</span> Data voorbereiden</a></li>
<li><a class="nav-link" href="#data-analyse"><span class="header-section-number">8.2</span> Data analyse</a></li>
<li><a class="nav-link" href="#bronnen"><span class="header-section-number">8.3</span> Bronnen</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Portfolio data science</strong>" was written by Lisa Kuipers. It was last built on 2022-07-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
