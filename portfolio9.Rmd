
# Parameters voor flexibiliteit

```{r yaml, out.width = "200px", echo=FALSE}
knitr::include_graphics(
  here::here(
    "images","yaml.png"))
```

```{r knit, out.width = "200px", echo=FALSE}
knitr::include_graphics(
  here::here(
    "images","knit.png"))
```

```{r parameters, out.width = "200px", echo=FALSE}
knitr::include_graphics(
  here::here(
    "images","para.png"))
```


```{r data verwerken}
library(tidyverse)
library(ggplot2)
library(params)


data_table <- read_csv("data/EDCC_daily.csv")


data_filtered <- data_table %>% filter(year >= params$start_year & year <= params$end_year & countriesAndTerritories == params$country & day %in% c(params$start_day:params$end_day) & month %in% c(params$start_month:params$end_month))


data_filtered$date_range <- paste0(data_filtered$year,data_filtered$month,data_filtered$day) 


plot_func <- function(dataset,condition){
  dataset %>% ggplot(aes(x=date_range, y=dataset[[condition]]))+
  geom_point()+
  scale_x_discrete(breaks=data_filtered$date_range[seq(1,length(data_filtered$date_range),by=50)])+
  theme(axis.text.x = element_text(angle = 90))+
  labs(x="Date",
       y=condition,
       title = paste("Amount of COVID-19",condition," from",data_filtered$dateRep[length(data_filtered$dateRep)],"to",data_filtered$dateRep[1]))
}
```


```{r functie uitvoren}
plot_func(data_filtered,"cases")
plot_func(data_filtered,"deaths")

```
