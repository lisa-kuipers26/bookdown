<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="9 Parameters voor flexibiliteit | Portofolio data science" />
<meta property="og:type" content="book" />

<meta property="og:description" content="Portflio" />
<meta name="github-repo" content="lisa-kuipers26" />

<meta name="author" content="Lisa Kuipers" />

<meta name="date" content="2022-06-28" />


<meta name="description" content="Portflio">

<title>9 Parameters voor flexibiliteit | Portofolio data science</title>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>
<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>



<link rel="stylesheet" href="my-styles.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#introductie"><span class="toc-section-number">1</span> Introductie</a></li>
<li><a href="2-verwerken-van-data.html#verwerken-van-data"><span class="toc-section-number">2</span> Verwerken van data</a></li>
<li class="has-sub"><a href="3-open-peer-review.html#open-peer-review"><span class="toc-section-number">3</span> Open Peer Review</a><ul>
<li class="has-sub"><a href="3.1-onderzoek-op-reproduceerbaarheid-beoordelen.html#onderzoek-op-reproduceerbaarheid-beoordelen"><span class="toc-section-number">3.1</span> Onderzoek op reproduceerbaarheid beoordelen</a><ul>
<li><a href="3.1-onderzoek-op-reproduceerbaarheid-beoordelen.html#omschrijving-onderzoek"><span class="toc-section-number">3.1.1</span> Omschrijving onderzoek</a></li>
<li><a href="3.1-onderzoek-op-reproduceerbaarheid-beoordelen.html#beoordeling-artikel"><span class="toc-section-number">3.1.2</span> Beoordeling artikel</a></li>
</ul></li>
<li class="has-sub"><a href="3.2-code-zelf-reproduceren.html#code-zelf-reproduceren"><span class="toc-section-number">3.2</span> Code zelf reproduceren</a><ul>
<li><a href="3.2-code-zelf-reproduceren.html#beoordeling-script"><span class="toc-section-number">3.2.1</span> Beoordeling script</a></li>
<li><a href="3.2-code-zelf-reproduceren.html#probleem-in-script"><span class="toc-section-number">3.2.2</span> Probleem in script</a></li>
</ul></li>
</ul></li>
<li><a href="4-data-organiseren.html#data-organiseren"><span class="toc-section-number">4</span> Data organiseren</a></li>
<li><a href="5-cv.html#cv"><span class="toc-section-number">5</span> cv</a></li>
<li><a href="6-het-citeren-van-andere-werken.html#het-citeren-van-andere-werken"><span class="toc-section-number">6</span> Het citeren van andere werken</a></li>
<li><a href="7-databases.html#databases"><span class="toc-section-number">7</span> Databases</a></li>
<li class="has-sub"><a href="8-r-packages.html#r-packages"><span class="toc-section-number">8</span> R packages</a><ul>
<li><a href="8.1-installeren-van-package.html#installeren-van-package"><span class="toc-section-number">8.1</span> Installeren van package</a></li>
<li><a href="8.2-package-gebruiken.html#package-gebruiken"><span class="toc-section-number">8.2</span> Package gebruiken</a></li>
<li><a href="8.3-functies.html#functies"><span class="toc-section-number">8.3</span> Functies</a></li>
<li><a href="8.4-data.html#data"><span class="toc-section-number">8.4</span> Data</a></li>
<li><a href="8.5-vignette.html#vignette"><span class="toc-section-number">8.5</span> Vignette</a></li>
</ul></li>
<li><a href="9-parameters-voor-flexibiliteit.html#parameters-voor-flexibiliteit"><span class="toc-section-number">9</span> Parameters voor flexibiliteit</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="parameters-voor-flexibiliteit" class="section level1">
<h1><span class="header-section-number">9</span> Parameters voor flexibiliteit</h1>
<p>Parameters in yaml headers kunnen gebruikt worden om je code dynamischer te maken. Het is een snelle manier van variabelen veranderen bij het filteren van een dataset.</p>
<p>Hieronder staat een voorbeeld van hoe de yaml header eruit ziet met verschillende parameters. Voor de analyse verderop hebben we dezelfde paramteres gebruitk als in de afbeelding.</p>
<div class="figure"><span style="display:block;" id="fig:yaml"></span>
<img src="images/yaml.png" alt="Afbeelding 1: Parameters in de yaml header." width="200px" />
<p class="caption">
Figure 9.1: Afbeelding 1: Parameters in de yaml header.
</p>
</div>
De parameters kunnen in een interactief scherm weergegeven worden. Deze verschijnd wanneer het bestand geknit wordt.
<div class="figure"><span style="display:block;" id="fig:parameters"></span>
<img src="images/para.png" alt="Afbeelding 2: Parameters bij knitten." width="600px" />
<p class="caption">
Figure 9.2: Afbeelding 2: Parameters bij knitten.
</p>
</div>
<p>Hieronder staat de code van het filteren van de de EDCC_daily dataset gevonden op: <a href="https://www.ecdc.europa.eu/en/covid-19/data" class="uri">https://www.ecdc.europa.eu/en/covid-19/data</a>. In de dataset staan het aantal gevallen en sterfgevallen van COVID-19 uit de periode van 2020 t/m 2022. De parameters die boven staan zijn gebruikt in het filteren.
Wanneer iemand van dezelfde jaar, maand of dag de data wilt weergeven kan bij de end en start parameters dezelfde datum ingevoerd worden. Ik heb ervoor gekozen om de hele beschikbare periode te nemen voor deze analyse, om te kijken of er een verband is tussen de cases and deaths.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="9-parameters-voor-flexibiliteit.html#cb25-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb25-2"><a href="9-parameters-voor-flexibiliteit.html#cb25-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb25-3"><a href="9-parameters-voor-flexibiliteit.html#cb25-3"></a><span class="kw">library</span>(params)</span>
<span id="cb25-4"><a href="9-parameters-voor-flexibiliteit.html#cb25-4"></a><span class="kw">library</span>(stringr)</span>
<span id="cb25-5"><a href="9-parameters-voor-flexibiliteit.html#cb25-5"></a></span>
<span id="cb25-6"><a href="9-parameters-voor-flexibiliteit.html#cb25-6"></a><span class="co">#Data inlezen</span></span>
<span id="cb25-7"><a href="9-parameters-voor-flexibiliteit.html#cb25-7"></a>data_table &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/EDCC_daily.csv&quot;</span>)</span>
<span id="cb25-8"><a href="9-parameters-voor-flexibiliteit.html#cb25-8"></a></span>
<span id="cb25-9"><a href="9-parameters-voor-flexibiliteit.html#cb25-9"></a><span class="co">#Data filteren</span></span>
<span id="cb25-10"><a href="9-parameters-voor-flexibiliteit.html#cb25-10"></a>data_filtered &lt;-<span class="st"> </span>data_table <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year <span class="op">&gt;=</span><span class="st"> </span>params<span class="op">$</span>start_year <span class="op">&amp;</span><span class="st"> </span>year <span class="op">&lt;=</span><span class="st"> </span>params<span class="op">$</span>end_year <span class="op">&amp;</span><span class="st"> </span>countriesAndTerritories <span class="op">==</span><span class="st"> </span>params<span class="op">$</span>country <span class="op">&amp;</span><span class="st"> </span>day <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(params<span class="op">$</span>start_day<span class="op">:</span>params<span class="op">$</span>end_day) <span class="op">&amp;</span><span class="st"> </span>month <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(params<span class="op">$</span>start_month<span class="op">:</span>params<span class="op">$</span>end_month))</span>
<span id="cb25-11"><a href="9-parameters-voor-flexibiliteit.html#cb25-11"></a></span>
<span id="cb25-12"><a href="9-parameters-voor-flexibiliteit.html#cb25-12"></a><span class="co">#Oploopbare range maken</span></span>
<span id="cb25-13"><a href="9-parameters-voor-flexibiliteit.html#cb25-13"></a>data_filtered<span class="op">$</span>date_range &lt;-<span class="st"> </span><span class="kw">paste0</span>(data_filtered<span class="op">$</span>year,<span class="kw">sprintf</span>(<span class="st">&quot;%02d&quot;</span>,data_filtered<span class="op">$</span>month),<span class="kw">sprintf</span>(<span class="st">&quot;%02d&quot;</span>,data_filtered<span class="op">$</span>day)) </span>
<span id="cb25-14"><a href="9-parameters-voor-flexibiliteit.html#cb25-14"></a></span>
<span id="cb25-15"><a href="9-parameters-voor-flexibiliteit.html#cb25-15"></a><span class="co">#Functie voor plot</span></span>
<span id="cb25-16"><a href="9-parameters-voor-flexibiliteit.html#cb25-16"></a>plot_func &lt;-<span class="st"> </span><span class="cf">function</span>(dataset,condition){</span>
<span id="cb25-17"><a href="9-parameters-voor-flexibiliteit.html#cb25-17"></a>  dataset <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>date_range, <span class="dt">y=</span>dataset[[condition]]))<span class="op">+</span></span>
<span id="cb25-18"><a href="9-parameters-voor-flexibiliteit.html#cb25-18"></a><span class="st">  </span><span class="kw">geom_point</span>()<span class="op">+</span></span>
<span id="cb25-19"><a href="9-parameters-voor-flexibiliteit.html#cb25-19"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="dt">breaks=</span>data_filtered<span class="op">$</span>date_range[<span class="kw">seq</span>(<span class="dv">1</span>,<span class="kw">length</span>(data_filtered<span class="op">$</span>date_range),<span class="dt">by=</span><span class="dv">50</span>)])<span class="op">+</span></span>
<span id="cb25-20"><a href="9-parameters-voor-flexibiliteit.html#cb25-20"></a><span class="st">  </span><span class="kw">theme</span>(<span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">angle =</span> <span class="dv">90</span>))<span class="op">+</span></span>
<span id="cb25-21"><a href="9-parameters-voor-flexibiliteit.html#cb25-21"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Date&quot;</span>,</span>
<span id="cb25-22"><a href="9-parameters-voor-flexibiliteit.html#cb25-22"></a>       <span class="dt">y=</span>condition,</span>
<span id="cb25-23"><a href="9-parameters-voor-flexibiliteit.html#cb25-23"></a>       <span class="dt">title =</span> <span class="kw">paste</span>(<span class="st">&quot;Amount of COVID-19&quot;</span>,condition,<span class="st">&quot;from&quot;</span>,data_filtered<span class="op">$</span>dateRep[<span class="kw">length</span>(data_filtered<span class="op">$</span>dateRep)],<span class="st">&quot;to&quot;</span>,data_filtered<span class="op">$</span>dateRep[<span class="dv">1</span>],<span class="st">&quot;in Belgium&quot;</span>))</span>
<span id="cb25-24"><a href="9-parameters-voor-flexibiliteit.html#cb25-24"></a>}</span></code></pre></div>
<p>In de code is te zien dat de dataset gefilterd wordt met de parameters door <code>params</code> te gebruiken voor de gedefineerde parameter naam uit de yaml header.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="9-parameters-voor-flexibiliteit.html#cb26-1"></a><span class="kw">plot_func</span>(data_filtered,<span class="st">&quot;cases&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/functie%20uitvoeren%20cases-1.png" alt="Figuur 1: Aantal COVID-19 cases van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as" width="672" />
<p class="caption">
(#fig:functie uitvoeren cases)Figuur 1: Aantal COVID-19 cases van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as
</p>
</div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="9-parameters-voor-flexibiliteit.html#cb27-1"></a><span class="kw">plot_func</span>(data_filtered,<span class="st">&quot;deaths&quot;</span>)</span></code></pre></div>
<div class="figure">
<img src="_main_files/figure-html/functie%20uitvoeren%20deaths-1.png" alt="Figuur 2: Aantal COVID-19 deaths van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as" width="672" />
<p class="caption">
(#fig:functie uitvoeren deaths)Figuur 2: Aantal COVID-19 deaths van 01/03/2020 t/m 23/05/2022 in belgië. Aantal cases staat op de y-as en de datum als yyyy-mm-dd op de x-as
</p>
</div>
<p>Uit de gefilterde set en functie zijn twee grafieken gegenereerd. Wat ik interessant vind om te zien bij deze figuren is dat het aantal doden aan het begin het hoogste lag terwijl het aantal cases relatief niet heel hoog waren. Bij de eerste piek van cases is bij het aantal dode ook een piek te zien ronde dezelfde datum. Daarna zwakt het aantal doden vergeleken met de cases af. Of dit komt doordat mensen met een verzwakt imuunsysteem sneller zijn overleden of omdat vaccinaties hun werk gedaan hebben is niet direct op te maken uit deze data, maar het is wel een interessant verband.</p>

</div>
<p style="text-align: center;">
<a href="8.5-vignette.html"><button class="btn btn-default">Previous</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
